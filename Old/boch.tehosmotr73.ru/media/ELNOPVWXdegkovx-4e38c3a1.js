
flexbe_cli.entity.setClientJs("element","menu01",{components:["menu"]});

flexbe_cli.entity.setClientJs("element","zone_cards",{components:["cards"],onUpdate(e){e.originId===e.id&&this.fixSwiper(e)},fixSwiper(e={}){var i;clearTimeout(this._changeTimer);const s=null==(i=flexbe_cli.components.getInstances(this).filter((e=>"cards"===e.is)))?void 0:i[0],t=s&&s.swiper;if(!t)return!1;if(document.body.contains(t.el)){if(e&&"items_add"===e.reason){const i=t.realIndex,s=e.reasonData.to;let n=i;i+t.params.slidesPerView<=s&&(n=s-t.params.slidesPerView+1),n!==i&&(this._changeTimer=setTimeout((()=>{t.slideTo(n)}),30))}e.styleRendered&&requestAnimationFrame((()=>t.update(!1)))}else this._changeTimer=setTimeout((()=>{this.fixSwiper(e)}),16)}});

!function(){class t{constructor(t){if(this.interacted=!1,this.inited=!1,this.activeUid=void 0,this.$activeTab=void 0,this.$activeSection=void 0,this.opts=t,this.$area=t.$area,this.dataAttr=t.dataAttr,this.classContainer=t.classContainer,this.initTabs(),t.activeUid)this.selectTab(t.activeUid);else if(window.location.hash){const t=window.location.hash.replace("#",""),e=$(`._anchor[name="${t}" i]`),a=e.length?e.closest("[data-id]"):$(`[data-id="${t}" i]`),i=e[0]||a[0];i&&this.selectTabFromTarget(i)}this.$area.on("bringIntoView",(t=>this.selectTabFromTarget(t.target)))}initTabs(){if(this.$mainContainer="self"===this.classContainer?this.$area:this.$area.find(this.classContainer),this.$tabsContainer=this.$area.find(".container-tabs"),this.$tabsList=this.$area.find('[role="tablist"]'),this.$swiperHelper=this.$area.find(".tab-swiper-helper"),this.inited=!!this.$tabsList.length,this.inited&&(this.$tabs=this.$tabsList.find('[role="tab"]'),this.$sections=this.$mainContainer.find('[role="tabpanel"]'),this.normalizeLines(),setTimeout((()=>{this.$mainContainer.addClass("main-area--tabs-inited")}),50),this.$tabsContainer.on("click",".tab",(t=>{const e=$(t.currentTarget).closest(`[${this.dataAttr}]`).attr(`${this.dataAttr}`);e&&(this.selectTab(e),this.setHash())})),this.$tabsList.on("touchstart",(()=>{this.interacted=!0,this.destroySwipeAnimation()})),flexbe_cli.is_admin)){let t;this.$tabsContainer.on("mouseenter",".tab",(e=>{clearTimeout(t),1===e.buttons&&(t=setTimeout((()=>{const t=$(e.target).closest(`[${this.dataAttr}]`).attr(`${this.dataAttr}`);this.selectTab(t),this.setHash()}),700))})),this.$tabsContainer.on("mouseleave",".tab",(()=>{clearTimeout(t)}))}}isTabsOnScreen(){if(!this.inited)return!1;const{top:t,height:e}=this.$tabsList[0].getBoundingClientRect();return t>0&&t+e<flexbe_cli.resize.viewportHeight}swipeAnimationController(){if(!this.inited)return;const t=this.$tabsList[0]&&this.$tabsList[0].scrollWidth>this.$tabsList[0].clientWidth,e=this.isTabsOnScreen();t&&e?this.initSwiperAnimation():e||this.destroySwipeAnimation()}initSwiperAnimation(){this.$swiperHelper.hasClass("show")||this.interacted||this.$swiperHelper.addClass("show")}destroySwipeAnimation(){this.$swiperHelper.hasClass("show")&&this.$swiperHelper.removeClass("show")}selectTabFromTarget(t){const e=$(t).closest(`[${this.dataAttr}]`).attr(`${this.dataAttr}`);this.selectTab(e)}selectTab(t,{force:e}={}){var a,i;if(!t||!e&&this.activeUid===t)return;this.inited||this.initTabs();const o=null!=(a=null==(i=this.$tabs)?void 0:i.filter(`[${this.dataAttr}="${t}"]`))?a:[];if(!o.length)return;const n=this.$sections.filter(".active"),s=n[0]&&n[0].offsetTop,l=this.$sections.filter(`[${this.dataAttr}="${t}"]`);this.scrollToTab(o),this.$tabs.removeClass("active").attr("aria-selected",!1).attr("tabindex",-1),o.addClass("active").attr("aria-selected",!0).attr("tabindex",0),this.$sections.removeClass("active").prop("hidden",!0),l.addClass("active").prop("hidden",!1);const r=l[0]&&l[0].offsetTop;if(this.activeUid=t,this.$activeTab=o,this.$activeSection=l,"function"==typeof this.opts.onSelectTab&&this.opts.onSelectTab({uid:t,$tab:o}),!flexbe_cli.run.is_mobile&&null!=s&&null!=r&&Math.abs(s-r)>0&&"undefined"!=typeof anime){const t=this.$mainContainer,e=s-r;t.css("will-change","transform"),anime({targets:t[0],translateY:[e,0],duration:250,easing:"easeOutCubic",complete:()=>{t.css({transform:"","will-change":""})}})}}normalizeLines(){if(!this.inited)return;let t;const e=this.$tabs;this.$tabsList.find(".tab-spacer").remove(),e.removeClass("first-in-line last-in-line"),e.first().addClass("first-in-line"),e.last().addClass("last-in-line"),e.each(((e,a)=>{t&&t.offsetTop!==a.offsetTop&&($(a).addClass("first-in-line"),$(t).addClass("last-in-line"),$(t).after('<span class="tab-spacer"></span>')),t=a}))}scrollToTab(t){if(!this.inited)return;const e=this.$tabsList,a=e[0].scrollWidth;if(a>e[0].offsetWidth){const i=t[0].offsetLeft,o=t[0].getBoundingClientRect(),n=flexbe_cli.resize.viewportWidth;let s;o.width>n||o.left<20?s=i-20:o.right>n-20&&(s=i-(n-20-o.width)),null!=s&&(s=Math.max(0,Math.min(a-n,s)),e.animate({scrollLeft:s},{duration:250}))}}setHash(){const t=this.$activeSection.find("._anchor").eq(0).attr("name");this.currentAnchor=t,t&&e(t)}resetHash(){if(!this.inited)return;String(window.location.hash).replace(/^#{1,2}/,"")===this.currentAnchor&&e("")}}function e(t){flexbe_cli.is_admin||(flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,`#${t}`),flexbe_cli.lockPopstate=!1)}function a(){var t;const e="object"==typeof flexbe_cli&&(null==(t=flexbe_cli.vars)?void 0:t._group.images)||{};return{lazy:!0,lazy_priority:!1,avif:!1,webp:!1,avif_support:e.avif_support,webp_support:e.webp_support,slow_network:!1,quality_map:{jpg:70,webp:70,avif:55}}}function i(t,e=null,i=null){var o;i={...a(),...i};const{id:n,ext:s}=t;if(!n)return"";e||"webp"!==t.ext||i.webp_support||(e=Math.min(t.width||2560,2560));const l=null!=(o=t.animated)?o:"gif"===s,r=`/img/${n}.${s}`;if(!e||l||"svg"===s)return r;const c=function(t,e){const a=e.avif_support,i=e.webp_support,o=e.avif,n=e.webp;let s=t.ext;return a&&o?s="avif":i&&n?s="webp":"webp"===t.ext&&(s=i?"webp":t.transparent?"png":"jpg"),s}(t,i),d=i.slow_network&&"4g"!==((null==(p=navigator.connection)?void 0:p.effectiveType)||"4g");var p;let u=i.quality_map;switch(d&&(u={jpg:50,webp:50,avif:45}),c){case"png":return`/img/${n}_${e}.png`;case"avif":case"webp":case"jpg":return`/img/${n}_${e}_q${u[c]}.${c}`;case"gif":default:return r}}function o(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)return t;t=t.replace(/(\/img\/[\d_q]+)\/[\w-]+(\.\w{3,4})/i,"$1$2");let[,e,a,i,o]=t.match(/\/img\/(\d+)_?(\d+)?_?q?(\d+)?\.(\w{3,4})/i)||[];return a=a?+a:0,i=i?+i:"none",{id:e,ext:o,name:`${e}.${o}`,size:a,quality:i}}(t)),!t||"object"!=typeof t)return{};let e=t.img_ext||t.ext;const a=t.img_id||t.id,i=t.img_name||t.name;e&&"false"!==e||(e=i?function(t){const e=String(t).match(/\.(jpg|jpeg|png|gif|svg|bmp|webp)$/i);return e&&e[1]?e[1]:""}(i):"jpg");const o=t.img_border||t.border;return{id:a,ext:e,average:function(t){return"transparent"!==t?t:"#000000"}(t.img_average||t.average),preview:t.img_preview||t.preview||"",width:t.img_width||t.width||0,height:t.img_height||t.height||0,proportion:+(+t.img_proportion||+t.proportion||0).toFixed(2),border:o,animated:t.img_animated||t.animated||"gif"===e,transparent:t.img_transparent||t.transparent||0}}function n(t,e=0,a){return i(o(t),"number"==typeof e?Math.round(e):e,a)}const s=(t,e=!1)=>{if(!t||"string"!=typeof t)return t;return[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"]].forEach((([a,i])=>{const o=e?i:a,n=e?a:i;t=t.replace(new RegExp(o,"g"),n)})),t},l=t=>{const e=m(t);return e&&[3,6,8].includes(e.length)};function r(t){return/^\s*(?:linear-gradient|repeat-linear-gradient)\(.*\)/i.test(t)}function c(t){return!r(t)&&(function(t){if(p(t)||d(t))return!1;if(t=m(t),!l(t))return!1;return/^#?([\da-f]{3}|[\da-f]{6})$/i.test(t)}(t)||function(t){if(p(t)||d(t))return!1;if(t=h(t),!l(t))return!1;return/^#?[\da-f]{8}$/i.test(t)}(t)||p(t)||d(t))}function d(t){return/^rgba\((?:\s*0*(?:\d{1,2}(?:\.\d+)?(?:\s*%)?|\.\d+\s*%|100(?:\.0*)?\s*%|(?:1\d{2}|2[0-4]\d|25[0-5])(?:\.\d+)?)\s*,){3}\s*0*(?:\.\d+|1?)\s*\)$/.test(t)}function p(t){return/^rgb\((?:\s*0*(?:\d{1,2}(?:\.\d+)?(?:\s*%)?|\.\d+\s*%|100(?:\.0*)?\s*%|(?:1\d{2}|2[0-4]\d|25[0-5])(?:\.\d+)?)\s*,?){3}\)$/.test(t)}function u(t){return r(t)?"gradient":c(t)?"color":"not_color"}function h(t=""){return"string"!=typeof t?t:String(t).replace(/[^\da-f]/gi,"").slice(0,8)}function m(t,e=!1){return"string"!=typeof t?t:(3===(t=h(t)).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),7===t.length&&(t+=t[6]),8===t.length&&/ff$/i.test(t)&&(t=t.slice(0,6)),e?`#${t}`:t)}const g=(t,e,a)=>!(!t||!e||e&&"none"===a)&&("none"!==t.border&&(("color"!==a||"transparent"!==t.border&&!t.transparent)&&!("blur"===a&&t.animated)));function v({image:t,style:e,action:a,productData:i,productKey:s}){const l=React.useRef(null);React.useLayoutEffect((()=>{flexbe_cli.components.initComponent(this.base,null,"update")}),[t]),React.useEffect((()=>{if(null!==l.current){const t=$(l.current),e=t.attr("data-product");e&&(t.removeAttr("data-product"),t.data("product",JSON.parse(e)))}}));const r=flexbe_cli.vars._group.images,c=flexbe_cli.vars._globals.userAgent.toLowerCase(),d=flexbe_cli.vars._group.optimization.critical_css,p=c.includes("mobile")&&c.includes("safari"),u=flexbe_cli.vars._globals.isEditor,h=d&&!u,m=r.effect,v=React.useMemo((()=>({...t,...o(t)})),[t]),f=React.useMemo((()=>({type:e.overlay_type||v.overlay_type||"none",position:e.overlay_position||v.overlay_position||"center",color:e.overlay_color||v.overlay_color,opacity:e.overlay_opacity||v.overlay_opacity,contrast:e.overlay_contrast||v.overlay_contrast})),[e]),b="none"!==f.type,_=React.useMemo((()=>{var a,i,o,s,l;return{lazy:(r.lazy||e.lazy)&&!h,autoload:null==(a=e.autoload)||a,size:e.original_resolution?0:"%optimalWidth%",action:e.action||v.action||"none",type:e.type||"background",scale:"image"===e.type?"contain":e.scale||v.scale||"cover",x:(null==(i=e.position)?void 0:i.x)||(null==(o=v.position)?void 0:o.x)||"50%",y:(null==(s=e.position)?void 0:s.y)||(null==(l=v.position)?void 0:l.y)||"50%",round:e.round||v.round||0,title:b?e.title||v.title:"",desc:b?e.desc||v.desc:"",hrefSrc:n(v,e.original_resolution?0:1920,r),imageAttachment:e.attachment||"default",imageWidth:e.fitToSize&&"image"===e.type?Math.round(t.width<t.height?t.width/t.height*e.fitToSize:e.fitToSize):null,imageHeight:e.fitToSize&&"image"===e.type?Math.round(t.height<t.width?t.height/t.width*e.fitToSize:e.fitToSize):null}}),[e,v]),y=React.useMemo((()=>({ext:v.ext,name:v.name,linkBlank:e.link_blank||v.link_blank,id:v.id,border:v.border||"mixed",animated:v.animated||!1,transparent:v.transparent||!1,proportion:e.proportion||v.proportion||!1,average:e.average||v.average||"#F7F7F7",preview:e.preview||v.preview||""})),[t,e]),w=React.useMemo((()=>"mail"===_.action||(e.link_blank||v.link_blank||!1)),[e]),R=React.useMemo((()=>b&&!e.alt?_.title||_.desc:e.alt||v.alt||_.title||_.desc),[e]),x=["phone","mail","pages","anchor"].includes(_.action)?"link":_.action,k=React.useMemo((()=>["button","link","popup"].includes(x)&&(e.effect||v.effect)||!1),[e]),C=React.useMemo((()=>y.proportion?{"aspect-ratio":100/y.proportion}:{}),[y]),z=!_.lazy&&_.autoload,T=n(v,_.size,r),S=n(v,0,r),A={"--imagePositionX":_.x,"--imagePositionY":_.y},O={background:f.color,opacity:f.color/100},N=g(v,_.lazy,m)&&"background"===_.type,q=N&&((t,e,a)=>{const i=e.average,o=e.preview,n=e.border;let s=e.width,l=e.height;if("contain"===a){if("color"===t&&i)return{"background-image":`url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;${s}&quot; height=&quot;${l}&quot; viewBox=&quot;0 0 1 1&quot; preserveAspectRatio=&quot;none&quot;><rect width= &quot;1&quot; height=&quot;1&quot; fill=&quot;${i.replace(/#/g,"%23")}&quot; /></svg>')`};if("blur"===t&&o){s=300,l=s*e.proportion/100;let t=-10,a=120,i=20;return["#FFFFFF","transparent"].includes(n)&&(t=0,a=100,i=0),{"background-image":`url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;${s}&quot; height=&quot;${l}&quot;><image filter=&quot;url(%23blur)&quot; y=&quot;${t}%25&quot; x=&quot;${t}%25&quot; width=&quot;${a}%25&quot; height=&quot;${a}%25&quot; href=&quot;data:image/webp;base64,${o}&quot;/><filter id=&quot;blur&quot;><feGaussianBlur in=&quot;SourceGraphic&quot; stdDeviation=&quot;${i}&quot; /></filter></svg>')`}}}return"color"===t&&i?{"background-color":i}:"blur"===t&&o?{"background-image":`url(data:image/webp;base64,${o});`}:{}})(m,v,_.scale);return React.h("div",{className:`component-image active ${_.round?"round":""} ${z?"":"loading"}`,"data-component":"image","data-action-target":"none"!==x,"data-lightbox":"popup"===x&&_.hrefSrc,"data-sub-html":"popup"===x&&b&&".overlay-content","data-effect":k,"data-uniq-id":v.unq_id,"data-img-scale":_.scale,"data-img-type":_.type,"data-img-name":y.name,"data-img-id":y.id,"data-img-ext":y.ext,"data-img-proportion":y.proportion,"data-has-placeholder":N,"data-img-width":v.width,"data-img-lazy":!!_.lazy,"data-img-autoload":!!_.autoload,"data-img-original":!!e.original_resolution,"data-img-animated":!!y.animated,"data-img-transparent":!!y.transparent,style:A},["none","cart"].includes(x)?"":React.h("a",{"data-action":x,href:"link"===x&&decodeURI(t.url),target:"link"===x&&w&&"_blank"}),"cart"===x&&"cart"===a?React.h("a",{ref:l,"data-action":"cart",className:"cart-options-actions","data-product":JSON.stringify(i)}):"","cart"===x&&"modal"===a?React.h("a",{id:s,className:"cart-options-actions modal-options-actions","data-prevent-action":"true"}):"","image"===_.type?React.h("img",{className:"component-image__image component-image__img",alt:R,width:_.imageWidth,height:_.imageHeight,style:C,"data-original":_.lazy&&S,"data-inline-src":!_.lazy&&T}):React.h(React.Fragment,null,React.h("div",{className:`component-image__image component-image__bg component-image__bg--${_.scale}`,"data-inline-bg":!_.lazy&&T,"data-original":_.lazy&&S,style:N?q:null,alt:R}),_.lazy?React.h("noscript",null,React.h("img",{alt:R,src:S})):""),b?React.h("div",{className:"overlay-container scrollable","data-type":f.type},React.h("div",{className:"overlay-content","data-position":f.position,"data-contrast":f.contrast&&f.contrast},f.color&&f.opacity?React.h("div",{className:"overlay-layer",style:O}):"",_.title?React.h("div",{className:"overlay-title text-keep-wrap"},`${_.title} ${p?"&#8205;":""} `):"",_.desc?React.h("div",{className:"overlay-desc text-keep-wrap"},`${_.desc} ${p?"&#8205;":""} `):"")):"")}function f({fillType:t,isLazyLoading:e,fillData:a,borderData:i}){const o=flexbe_cli.vars._group.images,s=React.useMemo((()=>{var e,i,s;return"image"===t&&a.image?{id:a.image.id,ext:a.image.ext,width:a.image.width,animated:null!=(e=a.image.animated)?e:0,transparent:null!=(i=a.image.transparent)?i:0,proportion:null!=(s=a.image.proportion)?s:0,url:n(a.image,1400,o)}:{}}),[a,t]),l=React.useMemo((()=>e?{}:{"background-image":`url(${s.url})`}),[e,s]);return React.h(React.Fragment,null,i.color?React.h("div",{className:`bg-element__border_hover is-${u(i.color)}`}):"","color"===t?React.h("div",{className:"bg-element__fill_hover bg-element__fill_hover--color"}):"","image"===t&&s.id?React.h("div",{className:"bg-element__fill_hover bg-element__fill_hover--image","data-id":s.id,"data-ext":s.ext,"data-width":s.width,"data-animated":s.animated,"data-transparent":s.transparent,"data-hover-type":t,"data-proportion":s.proportion,style:l}):"")}function b({background:t,transitions:e}){var a,i,o,s,l;const r=flexbe_cli.vars._globals.isMobile,c=flexbe_cli.vars._globals.isEditor,d=flexbe_cli.vars._group.optimization.critical_css&&!c,p=flexbe_cli.vars._group.images,h=p.lazy&&!d,m=React.useMemo((()=>({hover:e.hover.enabled?e.hover:{}})),[e]),v=React.useMemo((()=>{var e,a,i,o,s,l;return{type:t.type||"none",shadowEnabled:t.shadow_enabled||(null==(e=t.shadow)?void 0:e.enabled)||(null==m||null==(a=m.hover.shadow)?void 0:a.enabled),borderEnabled:t.border_enabled||t.border>0||(null==(i=m.hover)||null==(o=i.border)?void 0:o.enabled),borderColorType:u(null!=(s=t.border_color)?s:null==(l=m.hover.border)?void 0:l.color),image:h?t.image:n(t.image)}}),[t,m.hover]),b=null!=(a=m.hover.fill)?a:{},_=null!=(i=m.hover.border)?i:{},y=b.type||"none",$=p.effect,w="image"===v.type&&v.image.id?{id:v.image.id,ext:v.image.ext,width:v.image.width,animated:null!=(o=v.image.animated)?o:0,transparent:null!=(s=v.image.transparent)?s:0,proportion:null!=(l=v.image.proportion)?l:0,preview:v.image.preview}:{},R=r?800:1400,x=n(v.image,R,p),k=g(v.image,h,$),C=h?{}:{"background-image":x},z="blur"===$?{"background-image":`url(data:image/webp;base64, ${w.preview})`}:{};return React.h(React.Fragment,null,v.shadowEnabled?React.h("div",{className:"bg-element__shadow"}):"",v.borderEnabled?React.h("div",{className:`bg-element__border is-${v.borderColorType}`}):"","color"===v.type?React.h("div",{className:"bg-element__fill bg-element__fill--color","data-type":v.type}):"","image"===v.type&&v.image.id?React.h("div",{className:"bg-element__border"}):"","image"===v.type&&v.image.id?React.h("div",{className:"bg-element__fill bg-element__fill--image","data-type":v.type,"data-id":w.id,"data-ext":w.ext,"data-width":w.width,"data-animated":w.animated,"data-transparent":w.transparent,"data-proportion":w.proportion,"data-has-placeholder":k,"data-lazy":h,"data-loaded":!h,style:C}):"",k?React.h("div",{className:`bg-element__preview effect--${$}`,style:z}):"","none"!==y?React.h(f,{fillType:y,isLazyLoading:h,fillData:b,borderData:_}):"")}const _=({background:t,transitions:e})=>{const a=["bg-element",`bg-element--${t.type}`,"js-hover"],i=!(!e.hover||!e.hover.enabled)&&e.hover;return i&&a.push("bg-element--hover"),(t.border_enabled||t.border>0)&&a.push("bg-element--border"),i&&(i.text&&i.text.enabled&&a.push("bg-element--hover-text"),i.border&&i.border.enabled&&a.push("bg-element--hover-border"),i.fill&&i.fill.enabled&&("circle"===i.fill.style?a.push("bg-element--hover-fill_circle"):"rectangle"===i.fill.style?a.push("bg-element--hover-fill_rectangle"):a.push("bg-element--hover-fill_fade")),i.scale&&i.scale.enabled&&a.push("bg-element--hover-scale"),i.shift&&i.shift.enabled&&a.push("bg-element--hover-shift"),i.fadein&&i.fadein.enabled&&a.push("bg-element--hover-fadein"),i.shadow&&i.shadow.enabled&&a.push("bg-element--hover-shadow"),i.opacity&&i.opacity.enabled&&a.push("bg-element--hover-opacity")),a.join(" ")};function y({background:t,transitions:e,wraped:a}){const i=t.type||"none";return React.h(React.Fragment,null,a?React.h("div",{className:_({background:t,transitions:e}),"data-background":i,"data-component":"backgroundElement"},React.h(b,{background:t,transitions:e})):React.h(b,{background:t,transitions:e}))}function w({list:t,options:e}){const a=React.useMemo((()=>({bulletsVisible:e.bullets_visible||0,type:e.pagination_type||t.pagination_type||"bullets",size:e.pagination_size||e.buttons_size||t.buttons_size||"medium",buttonsColor:e.buttons_color||t.buttons_color||"dark",color:e.color||t.color||"#000000",imageScale:e.scale||t.scale||"cover"})),[e,t]),i=React.useMemo((()=>"thumbs"===a.type?"outside":e.pagination_position||t.pagination_position||"inside"),[e,t]),o=React.useMemo((()=>"custom"===this.buttonsColor?{color:a.color}:{}),[]),n=React.useMemo((()=>"thumbs"!==a.type&&e.disabled),[e,t]);return React.h(React.Fragment,null,"none"!==a.type?React.h("div",{className:`slider-pagination ${n?" disabled":""} ${e.class} type--${a.type} color--${a.buttonsColor} position--${i} size--${a.size}`,"data-type":a.type,"data-prevent-action":"true","data-bullets-visible":"bullets"===a.type&&a.bulletsVisible,style:o}):"")}function R({button:t,list:e,options:a}){const i=React.useMemo((()=>({type:a.buttons_type||e.buttons_type||!0,size:a.buttons_size||e.buttons_size||"medium",shape:a.buttons_shape||e.buttons_shape||"round",style:a.buttons_style||e.buttons_style||"filled",buttonsColor:a.buttons_color||e.buttons_color||"dark",color:a.color||e.color||"#000000",contrast:a.contrast||e.contrast||"light"})),[a,e]),o=React.useMemo((()=>null!=t?t:"prev"),[t]),n="custom"===i.buttonsColor&&i.color?{color:i.color}:{};return React.h("div",{className:`slider-button ${a.class} size--${i.size} style--${i.style} shape--${i.shape} color--${i.buttonsColor}`,"data-direction":o,"data-prevent-action":!0,style:n},React.h("div",{className:"slider-button-holder"},React.h("div",{className:"slider-button-bg"}),React.h("svg",{className:"slider-button-icon","data-contrast":!("custom"!==i.buttonsColor||!["light","dark"].includes(i.contrast))&&i.contrast},React.h("use",{href:`/_s/images/theme/4/res/slider.svg#btn-${i.size}-${i.type}`}))))}function x({defaultImg:t,list:e,style:a,action:i,productData:o,productKey:n}){React.useLayoutEffect((()=>{flexbe_cli.components.initComponent(this.base,null,"update")}),[e]),React.useEffect((()=>{var e;if(null!=(e=this.base)&&e.componentInstance){const e=t&&$(this.base).find(`[data-uniq-id=${t}]`).closest("[data-real-index]").data("realIndex");null!=e&&this.base.componentInstance.slideTo(e,!0)}}),[t]);const s=React.useMemo((()=>{var t,i;return{count:e.length,action:a.action||e.action,type:a.type||"background",scale:a.scale||e.scale||"cover",autoplay:a.autoplay||e.autoplay||0,effect:a.slider_effect||e.slider_effect||"slide",pagination:a.pagination||e.pagination||"none",effectImage:a.image_zoom||e.image_zoom||"zoom",controlsOnHover:a.controls_on_hover||e.controls_on_hover||0,loop:!(e.length<2)&&!(!a.loop&&!e.loop),buttonsEnabled:null==(t=null!=(i=a.buttons_enabled)?i:e.buttons_enabled)||t}}),[a,e]);return React.h("div",{className:`component-slider swiper lightbox-container ${s.controlsOnHover?"show-controls-on-hover":""} ${a.class||""}`,"data-effect":s.effect,"data-count":s.count,"data-autoplay":s.autoplay,"data-loop":s.loop?1:0,"data-pagination":s.pagination,"data-img-type":s.type,"data-component":"slider"},React.h("div",{className:"component-slider__wrapper swiper-wrapper"},e.map(((t,e)=>React.h("div",{className:"component-slider__item swiper-slide "+(e?"":"swiper-slide-active"),"data-media-id":t.id,"data-type":s.type,"data-real-index":e},React.h(v,{image:t.img||t,style:{action:s.action,scale:s.scale,effect:s.effectImage,title:"",desc:"",alt:"",autoload:!1},productData:o,productKey:n,action:i}))))),e.length>1&&s.buttonsEnabled?React.h(React.Fragment,null,React.h(R,{button:"prev",list:e,options:{...a,class:"disabled"}}),React.h(R,{button:"next",list:e,options:{...a,class:"disabled"}})):"",e.length>1?React.h(w,{list:e,options:{...a,disabled:1}}):"")}function k({defaultImg:t,images:e,style:a,action:i,proportion:o,typeCard:n,padding:s,paddingAdaptive:l,productData:r,productKey:c}){const d=null!=s?s:10,p={"--elementPadding":`${d}px`,"--elementPaddingAdaptive":`${null!=l?l:d}px`},u=null!=o?o:12,h=null!=n?n:"single",m=e.length||"popup"!==a.image.action?a:{...a,image:{...a.image,action:"none"}};return React.h("div",{className:"zone-products__element zone-products__media zone-products__media-content",style:p,"data-cols":"double"===h&&u},"image"===a.type||1===e.length?React.h(v,{image:e[0],style:m.image,productData:r,productKey:c,action:i}):React.h(x,{defaultImg:t,list:e,style:m.slider,productData:r,productKey:c,action:i}))}function C(t){let e=String(t);const a=e.match(/<!--.*?-->/gi)||[];if(a.length&&a.forEach((t=>{e=e.replace(t,"")})),/<!/.test(e))return!1;if(["<!doctype","<area","<base","<br","<col","<embed","<hr","<img","<input","<keygen","<link","<meta","<param","<source","<track","<wbr"].forEach((t=>{const a=e.match(RegExp(`${t}.*?>`,"gi"))||[];a.length&&a.forEach((t=>{e=e.replace(t,"")}))})),!/<[/?a-z]/i.test(e))return!0;const i=e.match(/<[/a-z].*?>/gi)||[];if(!i.length)return!1;if(/<\//.test(i[0]))return!1;for(const t of i)if(t.match(/<[/a-z]/gi).length>1)return!1;const o=[];(e.match(/<[a-z].*?[\s>]/gi)||[]).reverse().forEach((t=>{o.push(t.substr(1,t.length-2))}));const n=e.match(/<\/.*?>/gi)||[];if(o.length!==n.length)return!1;for(const t of o){let a=0;const i=e.match(RegExp(`<${t}`,"gi"))||[];if(!i.length)return!1;i.forEach((t=>{a=e.indexOf(t,a),a+=1}));const o=e.substr(a).match(RegExp(`${t}.*?</${t}>`,"i"))||[];if(!o.length)return!1;if(e=e.replace(o[0],""),!/<[/?a-z]/i.test(e))return!0}return!1}function z(t){var e,a;const i=t.style.color||"contrast",o=i.includes("#")?"custom":i,n=null!=(e=t.padding)?e:10,l={"--elementPadding":`${n}px`,"--elementPaddingAdaptive":`${null!=(a=null==t?void 0:t.paddingAdaptive)?a:n}px`};return React.h("div",{className:"zone-products__element zone-products__title "+(t.style.uppercase?"zone-products__title--uppercase":""),style:l,"data-color":o},(t=>{try{return C(t)||(t=s(t)),t}catch(e){return t}})(t.name))}const T={selectClass:"",dropdownClass:"",selectedClass:"selected",optionSelector:"option",attrValue:"value",position:"over",padding:10,title:!1};class S{static create(t){return new this(t)}constructor(t){this.opts=t,this.config={...T,...t.config},this.element=t.element,this.$select=$(this.element),this.isNativeSelect=this.$select.is("select"),this.selectAllDevice="select"===this.$select.data("type"),this.blurTimeOut=!1,this.blurListTimeOut=!1,this.focused=!1,this.active=!1,this.createSelect()}createSelect(){this.$customSelect=$(`\n            <div class="dropdown-container ${this.config.selectClass}">\n                <div tabindex="0" class="dropdown-select">\n                    <span class="dropdown-select__content selected"></span>\n\n                    <span class="arrow">\n                        <svg viewBox="0 0 10 6" xmlns="http://www.w3.org/2000/svg">\n                            <path fill="currentColor" d="M 1.4 6.99441e-15L 0 1.34043L 5 6L 10 1.34043L 8.6 0L 5 3.34998L 1.4 6.99441e-15Z"/>\n                        </svg>\n                    </span>\n                </div>\n            </div>\n        `),this.$customSelect__content=this.$customSelect.find(".dropdown-select__content"),this.$select.after(this.$customSelect),this.syncSelect(),this.selectAllDevice||flexbe_cli.run.is_screen_desktop||!flexbe_cli.responsive?(this.$customSelect.off("click.selected").on("click.selected",".dropdown-select",(()=>{clearTimeout(this.blurListTimeOut),this.active?this.collapse():this.activate()})),this.$customSelect.off("focus.selectFocus").on("focus.selectFocus",".dropdown-select",(()=>{this.focused=!0,this.$listWrapper||this.createList()})),this.isNativeSelect&&this.$select.off("change.changeSelect").on("change.changeSelect",(t=>{const e=this.$listWrapper.find(".dropdown-select-ul li"),a=t.currentTarget.value;e.removeClass(this.config.selectedClass),e.filter(((t,e)=>e.getAttribute(this.config.attrValue)===a)).addClass(this.config.selectedClass),this.$customSelect__content.text(a),"function"==typeof this.opts.onChange&&this.opts.onChange(t)})),this.$customSelect.off("keydown.selectKeydown").on("keydown.selectKeydown",".dropdown-select",(t=>{if(this.focused&&[13,27,32,38,40].includes(t.keyCode)){t.preventDefault();const e=this.$list.find(`.option-e.${this.config.selectedClass}`).filter((t=>!$(t).attr("disabled")));if(40===t.keyCode)t.preventDefault(),this.select(e.next(),!1),this.scrollToSelected();else if(38===t.keyCode)t.preventDefault(),this.select(e.prev(),!1),this.scrollToSelected();else if(this.active||32!==t.keyCode){if(this.active&&[13,27,32].includes(t.keyCode))return t.preventDefault(),this.collapse(),!1}else t.preventDefault(),this.activate()}}))):this.$select.off("change.selected").on("change.selected",(t=>{const e=t.target.value;this.$customSelect__content.text(e)}))}syncSelect(){const t=this.$select.children(this.config.optionSelector).filter(((t,e)=>{var a;return(null!=(a=e.selected)?a:$(e).attr("selected"))||$(e).hasClass(this.config.selectedClass)})).eq(0),e=t.html()||"вЂ”";this.$customSelect__content.attr(this.config.attrValue,t.attr(this.config.attrValue)),this.$customSelect__content.html(e)}createList(){const t=this.$select.children(this.config.optionSelector);this.$listWrapper=$(`\n            <div class="select-container-in-body">\n                <div class="overlay"></div>\n                <ul class="dropdown-select-ul scrollable ${this.config.dropdownClass}" tabindex="0"></ul>\n            </div>\n        `),this.$list=this.$listWrapper.find(".dropdown-select-ul"),t.each(((t,e)=>{var a,i,o;const n=$(e),s=(null!=(a=e.selected)?a:n.attr("selected"))||n.hasClass(this.config.selectedClass),l=(null!=(i=e.disabled)?i:n.attr("disabled"))||n.hasClass("disabled"),r=(null!=(o=e.locked)?o:n.attr("locked"))||n.hasClass("locked"),c=this.isNativeSelect?n.val():n.attr(this.config.attrValue),d=n.html().trim()||"вЂ”";let p="";this.config.title&&(p=n.attr("data-title"));const u=$(`<li title='${p}' class="option-e"></li>`);s&&!l&&u.addClass(this.config.selectedClass),l&&u.attr("disabled","disabled"),r&&u.attr("locked","locked"),u.attr(this.config.attrValue,c),u.html(d),this.$list.append(u)}))}select(t,e){if(!t[0])return;if(t.attr("disabled"))return clearTimeout(this.blurTimeOut),void this.$list.off("blur.listBlur").on("blur.listBlur",(()=>{this.focused=!1,this.blurListTimeOut=setTimeout((()=>{this.$listWrapper&&this.collapse()}),200)}));const a=t.attr(this.config.attrValue);if(t.siblings("li").removeClass(this.config.selectedClass),t.addClass(this.config.selectedClass),this.isNativeSelect)this.$select.val(a);else{const t=this.$select.children(this.config.optionSelector);t.removeAttr("selected").removeClass(this.config.selectedClass),t.filter(`[${this.config.attrValue}=${a}]`).addClass(this.config.selectedClass).attr("selected","selected")}this.syncSelect(),e&&this.collapse()}scrollToSelected(){const t=this.$list[0].offsetHeight;if(this.$list[0].scrollHeight<=t)return!1;const e=this.$list.children(".option-e").find(`.${this.config.selectedClass}`)[0];e&&e.scrollIntoView()}collapse(){clearTimeout(this.blurTimeOut),this.active=!1,this.$listWrapper.removeClass("active rise"),this.$listWrapper.detach(),"function"==typeof this.opts.onCollapse&&this.opts.onCollapse()}activate(){if(this.active)return!1;this.active=!0,this.createList();const t=this.config.padding||0,e={...flexbe_cli.helpers.dom.getElOffset(this.$customSelect[0]),width:this.$customSelect.width(),height:this.$customSelect.height()};"under"===this.config.position&&(e.top=e.top+e.height+t),this.$listWrapper.off("click.closeSelect").on("click.closeSelect",".overlay",(t=>{this.collapse();const e=document.elementFromPoint(t.clientX,t.clientY);e&&e.focus()})),this.$listWrapper.off("click.selectLi").on("click.selectLi",".dropdown-select-ul li",(t=>{const e=$(t.currentTarget);this.select(e,!0),"function"==typeof this.opts.onSelect&&this.opts.onSelect(t)})),this.$listWrapper.off("mousewheel.selectUl").on("mousewheel.selectUl",".dropdown-select-ul",(t=>{const e=t.currentTarget.scrollHeight,a=t.currentTarget.clientHeight;return!(t.currentTarget.scrollTop===e-a&&t.deltaY>0||0===t.currentTarget.scrollTop&&t.deltaY<0)})),$("body").append(this.$listWrapper),clearTimeout(this.blurTimeOut),this.$list.css({left:`${e.left}px`,top:`${e.top}px`,width:`${e.width}px`}),this.$listWrapper.outerWidth(),this.$listWrapper.toggleClass("rise",!!this.$select.closest(".m_modal, .w_widget").length),this.$listWrapper.addClass("active"),this.scrollToSelected(),"function"==typeof this.opts.onActivate&&this.opts.onActivate()}}const A=t=>{try{return C(t)||(t=s(t)),t}catch(e){return t}};function O({style:t,option:e,activeOption:a,selectOption:i,combinationOptionsList:o,cardStylesAdaptive:n}){var s,l,r;const c=React.useRef(null),d=React.useRef(null),p=React.useMemo((()=>{var e,a,i,o,n;return{colorTitle:null!=(e=t.label.color)?e:"contrast",colorActive:null!=(a=t.color)?a:"contrast",showTitle:null==(i=t.show_title)||i,size:null!=(o=t.size)?o:"medium",style:null!=(n=t.style)?n:"filled"}}),[t]),u=null!=(r=(null!=(l=(null!=(s=n.elementsStyles)?s:{}).options)?l:{}).show_title)?r:p.showTitle,h=React.useMemo((()=>{var t,a;return null!=(t=null==(a=e.data)?void 0:a.widget_type)?t:"vertical_list"}),[e]),m=React.useMemo((()=>a.map((t=>`${t.option_id}_${t.value_id}`))),[a]),g=p.colorTitle.includes("#")?"custom":p.colorTitle,v=p.colorActive.includes("#")?"custom":p.colorActive;React.useEffect((()=>{((t,e)=>{t.filter("[data-tooltipstered]").each(((t,e)=>{flexbe_cli.tip.destroy(e)})),t.each(((t,a)=>{const i=$(a),o=i.attr("data-option-id"),n=e.find((t=>t.optionId===o)),s=n.tipText;if(i.removeClass("disabled locked"),i.addClass(n.exceptionClass),i.is("[data-tip]")){const t=i.attr("data-tip"),e=i.attr("data-radio"),o=e?`<div class="zone-products-option-tip__title">${t}</div><div class="zone-products-option-tip__status">${s}</div>`:s,n=t&&s?o:e?t:"";!flexbe_cli.is_admin&&n&&flexbe_cli.tip.init(a,{interactive:!1,content:n,triggerOpen:{click:!0,touchstart:!1,mouseenter:!0}})}else i.find(".option-state")[0].innerHTML=s}))})($(d.current).find(".element-option"),o)}),[o]),React.useEffect((()=>{(({selectBlock:t,selectOption:e,optionsSize:a})=>{if(t.current){const i={optionSelector:".zone-products-option__select-item",attrValue:"data-option-id",dropdownClass:`products-select products-select__${a}`,position:"under",title:!0},o=$(t.current).find(".zone-products-option__select-block"),n=t=>{$(t.target).attr("disabled")||e(t.target.dataset.optionId)},s=()=>{o.removeClass("active")},l=()=>{o.addClass("active"),o.siblings(".zone-products-option__select-content").removeClass("active")};$(t.current).find(".dropdown-container").remove(),S.create({element:o[0],config:i,onSelect:n,onActivate:l,onCollapse:s})}})({selectBlock:c,selectOption:i,optionsSize:p.size})}),[i]);const f=t=>{const e=t.target;$(e).hasClass("disabled")||i(e.dataset.optionId)};return React.h(React.Fragment,null,React.h("div",{className:`zone-products-option__title ${p.showTitle?"":"hidden-desktop"} ${u?"":"hidden-mobile"}`,"data-color":g},e.name),React.h("div",{ref:d,className:`zone-products-option__content ${"vertical_list"!==h?"zone-products-option__content-radio":""} option-size--${p.size}`,"data-color":v},"vertical_list"!==h?e.values.map((t=>{var a;const i=`option-style--${p.style}`,o=null!=(a=t.data.contrast)?a:"dark",n={background:t.data.color};return React.h("div",{className:`element-option zone-products-option ${m.includes(`${e.id}_${t.id}`)?"active selected":""} zone-products-option--${h} ${"radio"!==h&&i}`,"data-option-id":`${e.id}_${t.id}`,"data-tip":("radio"===h||"vertical_block"===h)&&A(t.name),"data-tooltipstered":"radio"===h||"vertical_block"===h,"data-radio":"radio"===h,onClick:f},"color"===e.data.type&&"radio"===h?React.h("span",{className:"option-color-item__substrate"}):"","color"===e.data.type?React.h("span",{className:"option-color-item",style:n}):"","radio"===h?React.h("i",{className:"","data-contrast":o}):"","radio"!==h?React.h("span",{className:"option-name-item"},A(t.name)):"","radio"!==h&&"horizon_block"===h?React.h("span",{className:"option-state"}):"")})):React.h("div",{ref:c,className:`zone-products-option__select-content option-style--${p.style}`},React.h("div",{className:"form-field-select"},React.h("div",{className:"select-outer"},React.h("div",{"data-type":"select",className:"zone-products-option__select-block"},e.values.map((t=>{const a={background:t.data.color};return React.h("div",{className:"element-option zone-products-option__select-item "+(m.includes(`${e.id}_${t.id}`)?"active selected":""),"data-title":A(t.name),"data-option-id":`${e.id}_${t.id}`},"color"===e.data.type?React.h("span",{className:"option-color-item",style:a}):"",React.h("div",{className:"option-text-block"},React.h("span",{className:"option-name"},A(t.name)),React.h("span",{className:"option-state"})))}))))))))}function N({product:t,activeOption:e,combinationOptionsList:a,style:i,padding:o,paddingAdaptive:n,cardStylesAdaptive:s,selectOption:l}){const r=null!=o?o:10,c={"--elementPadding":`${r}px`,"--elementPaddingAdaptive":`${null!=n?n:r}px`};return React.h("div",{className:"zone-products__element zone-products__options",style:c},t.options.map((t=>React.h(O,{option:t,combinationOptionsList:a,activeOption:e,style:i,cardStylesAdaptive:s,selectOption:l}))))}function q(t){var e,a;const i=t.style.color||"contrast",o=null!=(e=t.padding)?e:10,n={"--elementPadding":`${o}px`,"--elementPaddingAdaptive":`${null!=(a=null==t?void 0:t.paddingAdaptive)?a:o}px`},s=t.fixToBottom||0,l=t.style.no_gutter||0;return React.h("div",{className:`zone-products__element products-hr ${l?"no-gutter":""} ${s?"zone-products__button-to-bottom":""}`,style:n,"data-color":i})}function M(t,e=!1){if(!t||"string"!=typeof t)return t;return[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"]].forEach((([a,i])=>{const o=e?i:a,n=e?a:i;t=t.replace(new RegExp(o,"g"),n)})),t}function L(t){var e,a,i;const o=null!=(e=t.padding)?e:10,n={"--elementPadding":`${o}px`,"--elementPaddingAdaptive":`${null!=(a=null==t?void 0:t.paddingAdaptive)?a:o}px`},s=M(t.variant.vendor_code),l=null!=(i=t.style.show_article_value_only)&&i?s:flexbe_cli.locale.tr("ecommerce.article",{article:s}),r=React.useMemo((()=>{const e=t.style.color||"contrast";return e.includes("#")?"custom":e}),[t.style]);return React.h("div",{className:"zone-products__element zone-products__article active",style:n,"data-color":r},l)}const P=t=>{try{return C(t)||(t=M(t)),t}catch(e){return t}};function I(t){var e,a;const i=null!=(e=t.padding)?e:10,o={"--elementPadding":`${i}px`,"--elementPaddingAdaptive":`${null!=(a=null==t?void 0:t.paddingAdaptive)?a:i}px`},n=t.style.color||"contrast",s=n.includes("#")?"custom":n;return React.h("div",{className:"zone-products__element zone-products__desc",style:o,"data-color":s,dangerouslySetInnerHTML:{__html:P(t.description)}})}function E(t){var e,a;const i=null!=(e=t.padding)?e:10,o={"--elementPadding":`${i}px`,"--elementPaddingAdaptive":`${null!=(a=null==t?void 0:t.paddingAdaptive)?a:i}px`},n=t.style.color.includes("#")?"custom":t.style.color||"contrast",s=t.style.colored_statuses||0,l=flexbe_cli.vars._group.ecommerce.in_stock_status||"none",r=flexbe_cli.vars._group.ecommerce.out_of_stock_status||"none",c=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",d=!t.variant.quantity&&-1!==t.variant.quantity;let p="",u="hide";return"none"!==l&&(p=-1===t.variant.quantity||"in_stock"===l?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.items_in_stock",{count:t.variant.quantity}),u="in_stock"),d&&"none"!==r&&("allow_preorder"===c&&(p="in_stock"===r?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):flexbe_cli.locale.tr("cart.quantity_status.preorder"),u="in_stock"===r?"in_stock":"preorder"),"out_of_stock"===r&&(p=flexbe_cli.locale.tr("cart.quantity_status.out_of_stock"),u="not-available")),React.h(React.Fragment,null,p?React.h("div",{className:`zone-products__element zone-products__available active ${s?"colored-status":""} ${u}`,style:o,"data-color":n},p):"")}function F(t){var e;const a=null!=(e=t.padding)?e:10,i=React.useMemo((()=>{var e;return{padding:{"--elementPadding":`${a}px`,"--elementPaddingAdaptive":`${null!=(e=null==t?void 0:t.paddingAdaptive)?e:a}px`},classes:t.classes||"",price:void 0===typeof t.variant.price?flexbe_cli.locale.tr("ecommerce.card.price.empty")||"ecommerce::card::price::empty":flexbe_cli.locale.formatMoney(t.variant.price),color:t.style.color||"contrast",class:t.class||"",colorOldPrice:t.style.old_price_color||"contrast",hideOldPriceDesktop:t.hideOldPriceDesktop||!1,hideOldPriceAdaptive:t.hideOldPriceAdaptive||!1}}),[t]),o=React.useMemo((()=>void 0!==typeof t.variant.price_old&&(!!t.variant.price_old&&flexbe_cli.locale.formatMoney(t.variant.price_old))),[t]),n=i.color.includes("#")||i.color.includes("rgba")?"custom":i.color,s=i.colorOldPrice.includes("#")||i.colorOldPrice.includes("rgba")?"custom":i.colorOldPrice,l=React.useMemo((()=>t.usePriceOld&&!i.hideOldPriceDesktop),[t]),r=React.useMemo((()=>t.usePriceOld&&!i.hideOldPriceAdaptive),[t]);return React.h("div",{className:`zone-products__element zone-products__price-container active ${i.classes}`,style:i.padding,"data-color":n},React.h("s",{className:`\n                ${!l&&o?"hidden-desktop":"priceMr10-desktop"} \n                ${!r&&o?"hidden-mobile":"priceMr10-mobile"}\n                ${l&&!o?"priceMr0-desktop":""}\n                ${r&&!o?"priceMr10-mobile":""}\n            `,"data-color":s},o),React.h("span",null,i.price))}function D({icon:t}){const e=React.useMemo((()=>{var e;return{size:null!=(e=t.size)?e:"medium",isProcessedSvg:t.is_flexbe||t.is_noun,backgroundImage:{"background-image":`url(${t.url})`}}}),[t]),a=React.useMemo((()=>{var a;return"custom"===e.size?{"--iconSize":`${null!=(a=t.size_custom)?a:16}px`}:{}}),[t,e]);return React.h("div",{className:`component-icon component-ico size--${e.size} style--none color--contrast border--none shape--none scale--contain`,style:a,"data-component":"icon"},React.h("div",{className:"icon-wrap"},e.isProcessedSvg?React.h("svg",{className:"icon vector-icon",viewBox:"0 0 50 50"},React.h("use",{href:`${t.url}#icon`})):React.h("div",{className:"icon raster-icon",style:e.backgroundImage})))}const B=t=>{try{return C(t)||(t=s(t)),flexbe_cli.run.is_ios&&(t+="&#8205;"),t}catch(e){return t}};function j({disabled:t,buttonStyle:e,submit:a,action:i,productData:o,productKey:n}){var s;if(!e.is_new){var l;const t=React.useRef(null),s=React.useMemo((()=>{var t,a,i,o,n,s,l,r,c,d,p;return{style:null!=(t=e.style)?t:["filled","squared"],size:null!=(a=e.size)?a:"medium",weight:null!=(i=e.weight)?i:"medium",lineSize:null!=(o=e.line_size)?o:"small",wide:null!=(n=e.wide)?n:0,color:null!=(s=e.color)?s:"#FFFFFF",colorText:null!=(l=e.color_text)?l:"auto",lang:null!=(r=e.lang)?r:"",showIcon:null!=(c=e.show_icon)?c:0,icon:null!=(d=e.icon)?d:{},order:null!=(p=e.content_order)?p:""}}),[e]),r=React.useMemo((()=>a||e.submit||""),[a,e]),c=React.useMemo((()=>{var t;return!s.style.includes("bordered")||e.effect&&"opacity"!==e.effect?null!=(t=e.effect)?t:"opacity":"fill"}),[e]),d=r.length,p=u(this.color),h=["component-button","is-old-button",""+(s.wide?"wide":""),`background--${p}`,`text--${s.colorText}`,`effect--${c}`,`line_size--${s.lineSize}`,`weight--${s.weight}`,`size--${s.size}`,"js-hover",...s.style].join(" ");return React.useEffect((()=>{if(null!==t.current){const e=$(t.current),a=e.attr("data-product");a&&(e.removeAttr("data-product"),e.data("product",JSON.parse(a)))}})),React.h("button",{className:h,"data-action-target":!0},"cart"===i?React.h("a",{ref:t,"data-action":"cart","data-product":JSON.stringify(o)}):React.h("a",{id:n,className:"modal-options-actions","data-prevent-action":"true"}),React.h("div",{className:`btn-content ${s.showIcon&&d?"btn-content-icon-text":s.showIcon?"btn-content-icon":"btn-content-text"} ${s.showIcon&&"from_right"===s.order?"icon-on-right":"icon-on-left"}`},React.h("svg",{className:"btn-icon success-icon",viewBox:"0 0 18 14"},React.h("path",{d:"M 2.205 5.77223L 0 7.92347L 6.3 14L 18 2.15124L 15.795 0L 6.3 9.74699L 2.205 5.77223Z"})),s.showIcon&&s.icon.url?React.h(D,{icon:s.icon}):"",d||null!=(l=s.lang)&&l.length?React.h("span",{className:"btn-text",dangerouslySetInnerHTML:{__html:s.lang?flexbe_cli.locale.tr(s.lang):B(r)}}):""))}const r=React.useRef(null),c=React.useMemo((()=>{var t,a,i,o,n,s,l,r,c,d,p,u,h;return{fillEnabled:!!e.fill.enabled,borderEnabled:!!e.border.enabled,shadowEnabled:!!e.shadow.enabled,wide:!!e.wide,high:!!e.high,action:null!=(t=e.action)?t:"none",transitions:null!=(a=e.transitions)?a:{},fillContrast:null!=(i=e.fill.contrast)?i:"dark",fillOpacity:null!=(o=e.fill.opacity)?o:100,borderColor:null!=(n=e.border.color)?n:"#ffffff",textColor:null!=(s=e.text.color)?s:"#ffffff",hoverTextColor:null!=(l=null==(r=e.transitions)||null==(c=r.hover)||null==(d=c.text)?void 0:d.color)?l:"#ffffff",showIcon:null!=(p=e.icon.enabled)&&p,icon:null!=(u=e.icon)?u:{},iconOrder:null!=(h=e.icon.position)?h:"left",lang:e.lang}}),[e]),d=React.useMemo((()=>a||e.submit||""),[a,e]),p=React.useMemo((()=>["light","dark"].includes(e.textColor)?e.textColor:e.fillContrast),[e]),h=u(c.borderEnabled&&!(c.fillEnabled||0===c.fillOpacity)&&"auto"===c.textColor?c.borderColor:c.textColor),m=u(c.hoverTextColor),g=d.length,v={type:"color",border_enabled:c.borderEnabled,shadow_enabled:c.shadowEnabled,border_color:c.borderColor},f=["component-button","scale-only-bg-layers",""+(c.wide?"wide":""),""+(c.high?"high":""),""+(t?"disabled":""),"js-hover",`${_({background:v,transitions:c.transitions})}`].join(" ");return React.useEffect((()=>{if(null!==r.current){const t=$(r.current),e=t.attr("data-product");e&&(t.removeAttr("data-product"),t.data("product",JSON.parse(e)))}})),React.h("button",{className:f,"data-action-target":!0,"data-contrast":p},React.h(y,{background:v,transitions:c.transitions,wraped:!1}),"cart"===i?React.h("a",{ref:r,"data-action":"cart","data-product":JSON.stringify(o)}):React.h("a",{id:n,className:"modal-options-actions","data-prevent-action":"true"}),React.h("div",{className:`btn-content ${c.showIcon&&g?"btn-content-icon-text":c.showIcon?"btn-content-icon":"btn-content-text"} ${c.showIcon&&"right"===c.iconOrder?"icon-on-right":"icon-on-left"}`},React.h("svg",{className:"btn-icon success-icon",viewBox:"0 0 18 14"},React.h("path",{d:"M 2.205 5.77223L 0 7.92347L 6.3 14L 18 2.15124L 15.795 0L 6.3 9.74699L 2.205 5.77223Z"})),c.showIcon&&c.icon.url?React.h(D,{icon:c.icon}):"",g||null!=(s=c.lang)&&s.length?React.h("span",{className:`btn-text text-${h} hover-text-${m}`,dangerouslySetInnerHTML:{__html:c.lang?flexbe_cli.locale.tr(c.lang):B(d)}}):""))}function H(t){var e,a;const i=React.useRef(null);React.useEffect((()=>{if(!flexbe_cli.is_admin){const t=$(i.current).find(".button-toltipster_container");t.attr("data-tip")?flexbe_cli.tip.init(t[0],{interactive:!1,triggerOpen:{click:!0,touchstart:!1,mouseenter:!0}}):t.hasClass("tooltipstered")&&flexbe_cli.tip.destroy(t[0])}}),[t]);const o=["button","price_in_button"].includes(t.type),n="allow_preorder"===(flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder"),s=null!=(e=t.padding)?e:10,l=null!=(a=t.buttonAdaptive)?a:{},r=(null==l?void 0:l.price)||{},c=(null==r?void 0:r.hide_old_price)||!1,d=React.useMemo((()=>{var e,a,i;return{style:null!=(e=t.style)?e:{},settings:null!=(a=t.settings)?a:{},padding:o?{"--elementPadding":`${s}px`,"--elementPaddingAdaptive":`${null!=(i=null==t?void 0:t.paddingAdaptive)?i:s}px`}:{},priceInButton:"price_in_button"===t.type,locked:!n&&!t.variant.quantity&&-1!==t.variant.quantity&&t.hasOptions,disabled:!t.variant.visible&&t.hasOptions}}),[t]),p=d.settings.options.fix_to_bottom||0,u=d.style.stretch||0,h=flexbe_cli.locale.tr("ecommerce.option.locked")||"ecommerce::option::locked",m=flexbe_cli.locale.tr("ecommerce.option.disabled")||"ecommerce::option::disabled",g=d.settings.price||{},v=d.settings.available||{},f=d.priceInButton?flexbe_cli.locale.formatMoney(t.variant.price):"",b=(null==g?void 0:g.hide_old_price)||!1;return React.h(React.Fragment,null,React.h("div",{ref:i,className:`zone-products__button active ${o?"zone-products__element":""} ${p?"zone-products__button-to-bottom":""} ${u?"zone-products__button-stretch":""} ${d.disabled||d.locked?"disabled":""}`,style:d.padding},React.h("div",{className:"button-toltipster_container "+(d.style.wide?"button-toltipster_strench":""),"data-tip":d.disabled&&m||d.locked&&h,"data-tooltipstered":d.disabled},React.h(j,{disabled:d.disabled||d.locked,buttonStyle:d.style,submit:f,action:t.cardAction,productData:t.productData,productKey:t.productKey}))),"button_with_price"===t.type?React.h(F,{hideOldPriceAdaptive:c,hideOldPriceDesktop:b,usePriceOld:t.product.use_price_old,variant:t.variant,style:g,padding:0,classes:"button-with-price"}):"","button_with_available"===t.type?React.h(E,{variant:t.variant,style:v,padding:0}):"")}function W(t){var e,a,i,o,n;const s=null!=(e=t.settings)?e:{},l=null!=(a=t.buttonAdaptive)?a:{},r=null!=(i=s.options.reverse)?i:0,c=s.options.fix_to_bottom||0,d=["button_with_available","button_with_price"].includes(t.type),p=null!=(o=t.padding)?o:10,u={"--elementPadding":`${p}px`,"--elementPaddingAdaptive":`${null!=(n=null==t?void 0:t.paddingAdaptive)?n:p}px`};return React.h(React.Fragment,null,d?React.h("div",{className:`zone-products__element zone-products__button-container ${c?"zone-products__button-container-to-bottom":""} ${r?"revert-block":""}`,style:u},React.h(H,{product:t.product,hasOptions:t.hasOptions,variant:t.variant,type:t.type,style:t.style,buttonAdaptive:l,settings:t.settings,paddingAdaptive:null==t?void 0:t.paddingAdaptive,padding:t.padding,cardAction:t.cardAction,productData:t.productData,productKey:t.productKey})):React.h(H,{product:t.product,hasOptions:t.hasOptions,variant:t.variant,type:t.type,style:t.style,settings:t.settings,paddingAdaptive:null==t?void 0:t.paddingAdaptive,padding:t.padding,cardAction:t.cardAction,productData:t.productData,productKey:t.productKey}))}const K=[{id:25280736,ext:"png",animated:0,average:"#EEEEEE",border:"#EEEEEE",preview:"UklGRjQAAABXRUJQVlA4ICgAAADQAgCdASoeABYAPyWKvFeuKSWjqAgBwCSJaQAAPaOgAP7t6e+boAAA",proportion:71,transparent:0,original_resolution:1,width:700,height:500}],U=(t,e)=>{if(!t.visible)return{exceptionClass:"disabled",tipText:e.needTipsOptions?flexbe_cli.locale.tr("ecommerce.option.disabled"):""};if(!t.quantity){const t=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",a=flexbe_cli.vars._group.ecommerce.out_of_stock_status||"none",i=e.needAvailableOptions?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):"",o="allow_preorder"===t,n=o?"":"locked";let s=e.needTipsOptions?flexbe_cli.locale.tr("ecommerce.option.locked"):"";return o&&e.needTipsOptions&&(s="in_stock"===a?i:flexbe_cli.locale.tr("cart.quantity_status.preorder")),o&&"none"===a&&(s=""),{exceptionClass:n,tipText:s}}return"none"!==e.inStock?"items_in_stock"===e.inStock&&-1!==t.quantity?{exceptionClass:"",tipText:e.needAvailableOptions&&e.needTipsOptions?flexbe_cli.locale.tr("cart.quantity_status.items_in_stock",{count:t.quantity}):""}:{exceptionClass:"",tipText:e.needAvailableOptions&&e.needTipsOptions?flexbe_cli.locale.tr("cart.quantity_status.in_stock"):""}:{exceptionClass:"",tipText:""}},J=t=>t.variants.find((t=>t.is_default))||t.variants[0];function V({styleCard:t,typeCard:e,params:a,product:i,needBackground:o}){var n,s,l,r,c,d,p,u,h,m,g,v,f,b,_;const $=J(i),[w,R]=React.useState($.option_values),[x,C]=React.useState($);React.useEffect((()=>{const t=J(i);R(t.option_values),C(t)}),[i]);const T=React.useMemo((()=>{var e,a,i;return{transitions:null!=(e=t.transitions)?e:{},background:null!=(a=t.background)?a:{},elementsStyles:null!=(i=t.elements_styles)?i:{},justifyCard:t.justify,elementsList:t.elements_list}}),[t]),S=React.useMemo((()=>{var e,a;return{elementsStyles:null!=(e=null==(a=t.adaptive)?void 0:a.elements_styles)?e:{}}}),[t]),A=React.useMemo((()=>{var t;const e=null!=(t=a.products_proportions.split("|"))?t:[12,12];return{colImage:a.products_swap?e[1]:e[0],colContent:a.products_swap?e[0]:e[1]}}),[a]),O=T.elementsStyles,M=null!=(n=null==S?void 0:S.elementsStyles)?n:{},P=null!=(s=O.media)?s:{},D=null!=(l=O.article)?l:{},B=null!=(r=O.available)?r:{},j=null!=(c=O.divider)?c:{},H=null!=(d=O.description)?d:{},V=null!=(p=O.name)?p:{},Y=null!=(u=O.options)?u:{},G=null!=(h=O.price)?h:{},Q=null!=(m=null==M?void 0:M.price)?m:{},X=null!=(g=O.button)?g:{},Z=null!=(v=null==M?void 0:M.button)?v:{},tt=null!=(f=X.style)?f:{},et=null!=(b=G.hide_old_price)&&b,at=null!=(_=Q.hide_old_price)?_:et,it=T.elementsList.find((t=>"options"===t.id)),ot=i.variants.length>1,nt=`${i.id}_${x.id}`,st=!it&&ot?"modal":"cart",lt=T.elementsList.find((t=>"options"===t.key)),rt=flexbe_cli.vars._group.ecommerce.out_of_stock_action||"forbid_preorder",ct="allow_preorder"===rt,dt=React.useMemo((()=>({locked:!ct&&!x.quantity&&-1!==x.quantity&&lt,disabled:!x.visible&&lt})),[x,rt,lt]),pt=React.useMemo((()=>dt.disabled||dt.locked?{...P,image:{action:"none"},slider:{...P.slider,action:"none"}}:P),[dt]),ut=React.useMemo((()=>{if("variant"===i.display_image&&i.options.length){const t=x.images;return t.length?t:K}if("product"===i.display_image||!i.options.length){const t=i.images;return"image"===P.type&&t.length>1?[t.find((t=>t.unq_id===x.default_image_id))||t[0]]:t.length?t:K}return K}),[t,i,x]),ht=React.useMemo((()=>({price:x.price,title:i.name,productId:i.id,variantId:x.id,vendorCode:x.vendor_code,quantity:x.quantity,img:ut,optionsInfo:x.optionsInfo,count:1,strict:1})),[x,i]),mt=React.useMemo((()=>(({product:t,currentOptions:e,optionsStyle:a})=>{var i,o;const n=null==(i=a.show_available)||i,s=null==(o=a.show_in_stock_statuses)||o,l=flexbe_cli.vars._group.ecommerce.in_stock_status||"none";let r=[];return 1===e.length?r=t.variants.reduce(((t,e)=>[...t,{optionId:`${e.option_values[0].option_id}_${e.option_values[0].value_id}`,...U(e,{needTipsOptions:n,needAvailableOptions:s,inStock:l})}]),[]):t.variants.forEach((t=>{for(let a=0;a<e.length;a++){const i=e.filter(((t,e)=>a!==e)),o=t.option_values.filter(((t,e)=>a!==e));JSON.stringify(i)===JSON.stringify(o)&&r.push({optionId:`${t.option_values[a].option_id}_${t.option_values[a].value_id}`,...U(t,{needTipsOptions:n,needAvailableOptions:s,inStock:l})})}})),r})({product:i,currentOptions:w,optionsStyle:Y})),[i,w,Y]),gt=t=>{const[e,a]=t.split("_"),o=w.map((t=>String(t.option_id)===String(e)?{option_id:+e,value_id:+a}:t)),n=i.variants.find((t=>((t,e)=>{let a=!1;return t.length===e.length&&(a=t.every((t=>e.some((e=>t.option_id===e.option_id&&t.value_id===e.value_id)))),a)})(t.option_values,o)));R(o),C(n)},vt=React.useMemo((()=>t=>{var a;return React.h(k,{defaultImg:null!=(a=x.default_image_id)?a:0,images:ut,style:pt,proportion:A.colImage,typeCard:e,productData:ht,productKey:nt,action:st,padding:0,...t})}),[x]);return React.h(React.Fragment,null,o?React.h(y,{background:T.background,transitions:T.transitions,wraped:!1}):"","double"===e?React.h(vt,null):"",React.h("div",{className:"zone-products__content","data-cols":"double"===e&&A.colContent,"data-justify":T.justifyCard},T.elementsList.map((t=>{var a,o,n,s,l,r,c,d,p;return"media"===t.key&&"single"===e?React.h(vt,{padding:t.padding_top,paddingAdaptive:null==(a=t.adaptive)?void 0:a.padding_top}):"name"===t.key&&i.name.length?React.h(z,{name:i.name,style:V,padding:t.padding_top,paddingAdaptive:null==(o=t.adaptive)?void 0:o.padding_top}):"options"===t.key&&i.options.length?React.h(N,{product:i,activeOption:w,combinationOptionsList:mt,style:Y,padding:t.padding_top,paddingAdaptive:null==(n=t.adaptive)?void 0:n.padding_top,cardStylesAdaptive:S,selectOption:gt}):"divider"===t.key?React.h(q,{style:j,fixToBottom:t.fix_to_bottom,padding:t.padding_top,paddingAdaptive:null==(s=t.adaptive)?void 0:s.padding_top}):"article"===t.key&&x.vendor_code.length?React.h(L,{variant:x,style:D,padding:t.padding_top,paddingAdaptive:null==(l=t.adaptive)?void 0:l.padding_top}):"description"===t.key&&i.description.length?React.h(I,{description:i.description,style:H,padding:t.padding_top,paddingAdaptive:null==(r=t.adaptive)?void 0:r.padding_top}):"available"===t.key?React.h(E,{variant:x,style:B,padding:t.padding_top,paddingAdaptive:null==(c=t.adaptive)?void 0:c.padding_top}):"price"===t.key?React.h(F,{class:"price",usePriceOld:i.use_price_old,variant:x,style:G,padding:t.padding_top,paddingAdaptive:null==(d=t.adaptive)?void 0:d.padding_top,hideOldPriceDesktop:et,hideOldPriceAdaptive:at}):"button"===t.key?React.h(W,{product:i,hasOptions:lt||!i.options.length,variant:x,type:t.id,style:tt,buttonAdaptive:Z,settings:X,padding:t.padding_top,paddingAdaptive:null==(p=t.adaptive)?void 0:p.padding_top,cardAction:st,productData:ht,productKey:nt,images:ut,hideOldPriceDesktop:et,hideOldPriceAdaptive:at}):React.h(React.Fragment,null)}))))}const Y=({text:t,contrast:e})=>["light","dark"].includes(t)?t:e;function G({styleCard:t,typeCard:e,params:a,product:i}){var o,n,s,l,r,c;const d=React.useMemo((()=>{var e,a,i,o;return{elementsStyles:null!=(e=null==t?void 0:t.elements_styles)?e:{},elementsList:null!=(a=t.elements_list)?a:[],transitions:null!=(i=t.transitions)?i:{},background:null!=(o=t.background)?o:{}}}),[t]),p=!!d.transitions.hover.enabled&&d.transitions.hover,u=p.enabled,h=(null==(o=p.mobile_disabled)||o)&&!u?"true":"false",m=!(null==(n=p.fill)||!n.enabled)&&p.fill,g="color"===m.type||"image"===m.type&&m.image.id,v=null!=(s=d.background.border_enabled)?s:d.background.border>0,f=d.background.shadow.enabled,b=g||v||f||u,y=null!=(l=d.background.type)?l:"none",$=Y({text:d.background.text,contrast:d.background.contrast}),w=null!=(c=(null!=(r=d.elementsStyles.media)?r:{}).no_gutter)&&c,R=flexbe_cli.locale.tr("ecommerce.card.empty")||"ecommerce::card::empty",x=React.useMemo((()=>{var t;return null!=(t=a.products_swap)?t:0}),[a]),k=React.useMemo((()=>{var t;const e=null!=(t=d.background.text)?t:"contrast";return e.includes("#")?"custom":e}),[t.background]),C=React.useMemo((()=>"custom"!==k&&(g?Y({text:p.fill.text,contrast:p.fill.contrast}):$)),[t.background,t.transitions]);return React.h("div",{className:`\n                card-products \n                card-products--vertical \n                lightbox-container\n                ${w?"no-gutter":""}\n                ${"double"===e?"fill-space":""}\n                ${x?"revert-card":""}     \n                ${_({background:d.background,transitions:d.transitions})}          \n            `,"data-effects-desktop":u,"data-product-item":"true","data-effects-mobile":h,"data-hover-contrast":C,"data-color":"none"!==y&&k,"data-contrast":"none"!==y&&$,"data-component":!!b&&"backgroundElement"},d.elementsList.length?React.h(V,{typeCard:e,styleCard:t,params:a,product:i,needBackground:!0}):React.h("div",{className:"card-empty"},R))}function Q({productsData:t,params:e,styleCard:a}){var i;const[o,n]=React.useState(t),s=React.useMemo((()=>{var t,a,i;return{adaptive:null!=(t=e.adaptive)?t:{},typeCard:null!=(a=e.products_type)?a:"single",displayImage:null!=(i=e.display_image)?i:"product"}}),[e]),l=null!=(i=s.adaptive.double_direction)?i:"column",r=s.adaptive.swap_columns||0;return React.useEffect((()=>{n(t)}),[t]),React.h(React.Fragment,null,o.map((t=>{const i="product"===(t.options.length?s.displayImage:"product")&&t.images.length>1;return React.h("div",{className:`\n                        flexbe-product gap-item zone-products--vertical \n                        zone-products--adaptive-${l} \n                        zone-products--${s.typeCard} \n                        ${r&&"column"===l?"zone-products--moby-swap":""}\n                    `,"data-item-id":t.id,"data-image-slider":i,key:t.id},React.h(G,{styleCard:a,typeCard:s.typeCard,params:e,product:t}))})))}let X;class Z{constructor(t){this.params=void 0,this.styleCard=void 0,this.params=t,this.styleCard={transitions:{hover:[]},background:{color:"#FFFFFF",shading:50,shading_color:"#1d1d1d",contrast:"dark",text:"contrast",image:{position:{x:"50%",y:"50%"}},opacity:100,type:"color",shadow:{enabled:0,preset:"small",x:0,y:7,blur:32,color:"rgba(0, 0, 0, 0.07)"},border:0,border_enabled:!1,border_color:"#CCCCCC",enable:1,radius:0,position:{x:"50%",y:"50%"}},justify:"flex-start",elements_list:[{id:"name",key:"name",padding_top:40},{id:"options",key:"options",padding_top:20},{id:"divider_7021066",key:"divider",padding_top:20,fix_to_bottom:!1},{id:"button_with_price",key:"button",padding_top:20}],elements_styles:{button:{type:"button_with_price",style:{action:"cart",color:"#1B1B1C",color_text:"auto",effect:"opacity",icon_size:16,line_size:"medium",product:[],show_icon:!1,size:"small",style:["filled","squared"],weight:"medium",wide:!1,submit:flexbe_cli.locale.tr("modal.options.button.text")||"modal::options::button::text",radius_style:"squared"},available:{color:"contrast",line_height:137,opacity:100,size:14,weight:400,colored_statuses:!0},price:{color:"contrast",hide_old_price:!1,line_height:137,old_price_color:"contrast",opacity:100,size:14,weight:400},options:{fix_to_bottom:!0,justify:"flex-start",reverse:!0},padding_default:0},divider:{color:"contrast",height:1,no_gutter:!1,opacity:10},name:{color:"contrast",line_height:137,opacity:100,size:22,weight:500},options:{color:"contrast",padding_default:20,size:100,style:"transparent",label:{color:"contrast",opacity:100},show_available:!0,show_in_stock_statuses:!0}}}}show(t){const e={typeCard:"single",styleCard:this.styleCard,params:this.params,needBackground:!1,product:t};if(!X){const t=$('\n                <div class="m_modal m_OPTIONS_modal" data-is="modal" data-id="OPTIONS_modal" data-m-id="OPTIONS">\n                    <div class="modal-data">\n                        <div class="component-bg bg-color" data-type="color" data-parallax="0" data-component="background">\n                            <div class="overlay" data-opacity="1"></div>\n                        </div>\n\n                        <div class="modal-content" data-contrast="dark" data-v="1" data-as="1"> \n                            <div class="close close-times"></div>\n                            <div class="flexbe-products">\n                                <div class="card-products" data-product-item="true" data-hover-contrast="dark" data-color="contrast" data-contrast="dark">                            \n                                    <div class="product-options-modal-content"></div>\n                                </div>\n                            </div>                            \n                        </div>\n                    </div>\n                </div>\n            ');flexbe_cli.modal.$list.append(t),X=flexbe_cli.entity.bind(t[0])}const a=X.$area.find(".product-options-modal-content");flexbe_cli.events.emit("ui_modal_open",{id:"OPTIONS_modal",options:{hash:!1,rise:!0,onClose:()=>{}}}),React.unmountComponentAtNode(a[0]),React.render(React.h(V,{...e}),a[0])}}flexbe_cli.entity.setClientJs("element","zone_products",{components:["backgroundElement","slider","image","icon"],require:["/_s/lib/preact/preact.min.js"],shouldInitTabs:!0,onInit(){if(this.createProductStore(),this.navigationType=this.$area.attr("data-navigation-type"),this.navigationLimit=this.$area.attr("data-navigation-limit"),this.$area.removeAttr("data-navigation-type").removeAttr("data-navigation-limit"),!flexbe_cli.is_admin){const t=!this.styleCard.elements_list.find((t=>"options"===t.id));this.initNavigation(),t&&this.initModalOptions()}},onUpdate(t){t.templateRendered&&(this.shouldInitTabs=!0),t.templateRendered&&"pagination"!==t.reason&&this.createProductStore()},onLoad(t){("pagination"!==t.reason||"pagination"===t.reason&&t.id)&&this.createProductList(),this.inScreen&&this.tabsController.swipeAnimationController()},onResize(){this.tabsController&&this.tabsController.normalizeLines()},onBeside(t){t&&this.shouldInitTabs&&this.createTabs()},onFocus(t){this.tabsController&&(t?this.tabsController.swipeAnimationController():this.tabsController.resetHash())},bindEvents(){this.$content.find(".modal-options-actions").off("click").on("click",(t=>{t.preventDefault(),t.stopPropagation(),this.showModalOptions(t.currentTarget.id)}))},createProductStore(){var t,e,a;this.params=JSON.parse(null!=(t=this.$area.attr("data-params"))?t:"{}"),this.styleCard=JSON.parse(null!=(e=this.$area.attr("data-style-card"))?e:"{}"),this.categories={};JSON.parse(null!=(a=this.$area.attr("data-categories"))?a:"[]").forEach((t=>{this.categories[t.id||"default"]=t.products})),this.$area.removeAttr("data-params").removeAttr("data-style-card").removeAttr("data-categories")},createProductList(){this.$area.find(".flexbe-products").each(((t,e)=>{var a;const i=$(e).attr("data-category-id");null!=(a=this.categories[i])&&a.length&&this.renderProductList(e,this.categories[i],this.params,this.styleCard)})),flexbe_cli.components.initComponents({core:this.area._core,reason:"init"})},renderProductList(t,e,a,i){const o={productsData:e,params:a,styleCard:i};React.render(React.h(Q,{...o}),t),flexbe_cli.is_admin||setTimeout((()=>{this.bindEvents()}),110)},createTabs(){this.shouldInitTabs=!1,this.tabsController=new t({$area:this.$area,dataAttr:"data-category-id",classContainer:"self",activeUid:this.selectedTabUid,onSelectTab:({uid:t})=>{this.selectedTabUid=t,this.updateTween()}})},initModalOptions(){this.modalOptions||(this.modalOptions=new Z(this.params))},showModalOptions(t){if(!this.modalOptions||!t)return;const[e]=t.split("_");if(!this.selectedTabUid){const t=this.$area.find(".flexbe-products-container.active");this.selectedTabUid=t.attr("data-category-id")}const a=+this.selectedTabUid||"default",i=this.categories[a].filter((t=>String(t.id)===String(e)))[0];this.modalOptions.show(i)},initNavigation(){const t=this.$area.find(".flexbe-products-container"),e=this.navigationType,a=this.navigationLimit;t.each((async(t,i)=>{const o=$(i),n=o.find(".navigation-container");if(!n.length)return;const s=o.find(".flexbe-products"),l=o.find(".navigation-container")[0].getAttribute("data-navigation-cid")||null;"button"===e&&this.initButtonMore({categoryId:l,limit:a,$productsContainer:s,$containerNavigation:n}),"pagination"===e&&this.initPagination({categoryId:l,limit:a,$productsContainer:s,$containerNavigation:n})}))},initButtonMore({categoryId:t,limit:e,$productsContainer:a,$containerNavigation:i}){let o=!1,n=2;i.off(`click.more${t}`).on(`click.more${t}`,".component-button",(async s=>{if(o)return;let l,r;o=!0,$(s.currentTarget).addClass("submitting");try{r=await this.getData({categoryId:t,page:n,limit:e,navigation:"button"}),this.categories[t]=[...this.categories[t],...r.products],this.renderProductList(a[0],this.categories[t],this.params,this.styleCard),l=r.navigation,n+=1}catch(s){l=!0,console.error(s)}flexbe_cli.entity.initArea(this.$area,{templateRendered:!0,reason:"pagination"}),$(s.currentTarget).removeClass("submitting"),o=!1,l||i.remove()}))},initPagination({categoryId:t,limit:e,$productsContainer:a,$containerNavigation:i}){let o=!1;i.off(`click.pagination${t}`).on(`click.pagination${t}`,".pagination__items",(async n=>{if(o)return;let s,l;const r=n.currentTarget.getAttribute("data-page")||1;o=!0,a.addClass("loading").prepend('<div class="loader"></div>');try{l=await this.getData({categoryId:t,page:r,limit:e,navigation:"pagination"}),this.categories[t]=l.products,this.renderProductList(a[0],this.categories[t],this.params,this.styleCard),s=l.navigation}catch(n){s=i[0].innerHTML,console.error(n)}flexbe_cli.entity.initArea(this.$area,{templateRendered:!0,reason:"pagination"}),setTimeout((()=>{$(".loader").remove(),a.removeClass("loading"),i[0].innerHTML=s,flexbe_cli.scroll.toElement(this.$root),o=!1}),100)}))},async getData({categoryId:t,page:e,limit:a,navigation:i}){const o=flexbe_cli.group_id,n=flexbe_cli.p_id,s=flexbe_cli.theme_id,l=this.id,r=this.template_id,c=this.is;return new Promise(((d,p)=>{$.ajax({url:"/api/ecommerce/get_data/",type:"GET",dataType:"json",data:{groupId:o,pId:n,entityId:l,themeId:s,templateId:r,is:c,categoryId:t,page:e,limit:a,navigation:i,format:"html"}}).done((t=>{d(t)})).fail((t=>{p(new Error(t.statusText))}))}))}})}();

flexbe_cli.entity.setClientJs("element","zone",{components:["backgroundElement"],onInit(){this.setMeta()},onUpdate(){this.setMeta()},setMeta(){const i=this.lastViewport,e=this.lastVisibility;this.lastViewport=flexbe_cli.resize.viewportWidth,this.lastVisibility=flexbe_cli.is_admin&&$("body").hasClass("show-hidden"),this.needFixOrder=this.needFixOrder||this.lastViewport!==i||this.lastVisibility!==e},onResize(){this.inScreen&&this.isVisible&&this.fixElementOrder()},fixElementOrder(){if(this.setMeta(),!this.needFixOrder)return;this.needFixOrder=!1;const i=this.$area.find(".elements-list");i.find("[data-hidden]").length&&i.each(((i,e)=>{const t=$(e).find(".element-item--static"),s=t.filter(":visible");t.removeClass("is-first-child is-last-child"),s.first().addClass("is-first-child"),s.last().addClass("is-last-child")}))}});

flexbe_cli.entity.setClientJs("modal","BASIC",{components:["background","icon"],onOpen(){this.$scroll=this.$scroll||this.$area.find(".scroller"),this.$content=this.$content||this.$area.find(".modal-content"),this.$close=this.$close||this.$scroll.find("> .close--outside"),this.dispatchClasses(),this.$scroll.on("scroll.close-check",$.throttle((()=>{this.dispatchClasses()}),60))},onClose(){this.$area.find(".component-form .is_error").removeClass("is_error"),this.$scroll.off("scroll.close-check")},dispatchClasses(){if("mobile"!==flexbe_cli.resize.responsiveMode||!this.$close.length)return;const s=this.$scroll[0].scrollTop,e=this.$content[0].offsetTop,o=this.$close[0].offsetHeight;this.$close.toggleClass("stuck",e-s<o)}});

flexbe_cli.entity.setClientJs("widget","ANCHORS",{require:["/_s/lib/anime/anime.min.js?321"],$list:null,onLoad(){this.$list=this.$widget.find(".anchors-list"),this.list="object"==typeof this.$list.data("anchors")&&this.$list.data("anchors").list||[];const t={style:1,show_title:0,...this.$list.data("anchors")};this.style=t.style,this.show_title=t.show_title,this.$list.removeAttr("data-anchors"),flexbe_cli.run.is_mobile||(this.drawList(),this.bindEvents(),flexbe_cli.is_admin&&(flexbe_cli.events.off("layout_change.anchors").on("layout_change.anchors",((t,e)=>{"block"===e.is&&this.drawList()})),flexbe_cli.events.off("page-settings_update").on("page-settings_update",((t,e)=>{e.p_data.p_data.show_bullets?this.$list.show():this.$list.hide()}))))},check(){const t=flexbe_cli.block.$blocks.not("[data-overlayed]");this.list=this.list.filter((e=>{const i=t.closest(`[data-id="${e.id}"]`),s=i.attr("data-hidden")||"none";return e.enabled&&i[0]&&["none","mobile"].includes(s)}))},drawList(){flexbe_cli.block.$blocks.length&&flexbe_cli.vars._page.showBullets||this.$list.hide(),this.check();let t="";flexbe_cli.is_admin&&this.list.length<2?t='<svg style="color: #adadad" width="18" height="98" viewBox="0 0 18 98" xmlns="http://www.w3.org/2000/svg">\n                <g fill="none" fill-rule="evenodd">\n                    <circle opacity=".05" cx="9" cy="5" r="5"/>\n                    <circle opacity=".2" cx="9" cy="25" r="5"/>\n                    <circle opacity=".2" cx="9" cy="73" r="5"/>\n                    <circle opacity=".05" cx="9" cy="93" r="5"/>\n                    <path d="M9 40a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm5.126 9.626h-4.5v4.5H8.34v-4.5h-4.5V48.34h4.5v-4.5h1.286v4.5h4.5v1.286z" opacity=".45"/>\n                </g>\n            </svg>':this.list.length>=2&&(this.list.forEach((e=>{const i=this.show_title&&e.title?` data-title="${e.title}"`:"";t+=`<li${i}><a href="#${e.id}"></a></li>`})),t+='<li class="helper"><a></a></li>'),this.$list.find("ul").html(t),this.$helper=this.$list.find(".helper"),this.animateList()},animateList(){if(!(this.list.length<1)){if(flexbe_cli.is_admin)this.$helper.css({opacity:1,transform:`translateY(${24*this.index}px)`});else{const t=anime({targets:this.$list.find("li").not(this.$helper).get(),duration:350,opacity:[0,1],scale:[.8,1],translateY:[10,0],easing:"easeInOutQuad",autoplay:!1,delay:(t,e)=>30*e,complete:()=>{anime({targets:this.$helper.get(),duration:400,translateY:24*this.index,scale:[2.5,1],opacity:[0,1],easing:"easeInExpo"})}});this.$list.addClass("hide"),setTimeout((()=>{this.$list.removeClass("hide"),t.play()}),800)}this.$list.find("li").removeClass("active").eq(this.index).addClass("active")}},index:0,bindEvents(){flexbe_cli.events.off("entity_event.anchors").on("entity_event.anchors",((t,{type:e,core:i,params:s})=>{"focus"===e&&s.state&&"block"===i.is&&this.setBlock(i)})),flexbe_cli.block.$blocks.each(((t,e)=>{const i=e._core;i&&i.inFocus&&this.setBlock(i)})),this.$list.on("click","li",(t=>{if(!$(t.target).is("a"))return $(t.currentTarget).find("[href]").trigger("click"),t.preventDefault(),!1}))},setBlock(t){let e=this.index,i="#6a6a6a";const s=t.content||t.$area.find(".container")[0];if(s){const e=t.content.getAttribute("data-contrast");i=e?"light"===e?"#FFF":"#1B1B1C":getComputedStyle(s).color}this.$list.css("color",i),this.list.some(((i,s)=>i.id===t.id&&(e=s,!0))),e=Math.max(0,Math.min(this.list.length-1,e)),e!==this.index&&(this.animate(e),this.index=e)},animate(t){if(this.$list.find("li").removeClass("active"),this.$list.find("li").eq(t).addClass("active"),1==+this.style){const e=24*t,i=t-this.index>0?12:-12;anime.remove(this.$helper[0]),anime({targets:this.$helper[0],translateY:e-i,scaleY:2.5,scaleX:.6,duration:100,easing:"easeInQuad",complete:()=>{anime({targets:this.$helper[0],translateY:e,scaleY:1,scaleX:1,duration:100,easing:"easeOutQuad"})}})}}});

!function(){const t={$container:".widget-data",$list:".order-list",$button:".cart-button",$buttonCount:".cart-button-count",$form:".component-form",$formButton:".form-field-submit",$count:".cart-checkout-count__value",$discountLine:".cart-checkout-discount",$promocodeLine:".cart-checkout-promocode",$shippingLine:".cart-checkout-shipping",$shipping:".cart-checkout-shipping__price",$subtotal:".cart-checkout-subtotal__price",$total:".cart-checkout-summary__price",$checkoutBlock:".cart-checkout-block",$minTotal:".cart-min-total",$shippingNotFix:".cart-shipping__not-fix-total",$untilFree:".cart-delivery-free",$nearestDiscount:".cart-info-block_discount",$promocodeField:".promocode-field",$promocodeBlock:".applied-promocode-block",$promocodeTextLink:".promocode-link"},e={key:"in_stock",class:"in-stock",title:"cart::quantity_status::in_stock"},o={key:"items_in_stock",class:"items-in-stock",title:"cart::quantity_status::items_in_stock"},i={key:"preorder",class:"preorder",title:"cart::quantity_status::preorder"},n={key:"out_of_stock",class:"out-of-stock",title:"cart::quantity_status::out_of_stock"},r={key:"items_left_in_stock",class:"items-left",title:"cart::quantity_status::items_left_in_stock"},s={key:"not_available",class:"not-available",title:"cart::quantity_status::not_available"},a={key:"unknown",class:"",title:""};function c(t){return null!=t.productId&&null!=t.variantId}function l(t){return"custom"===t.type||t.quantity===1/0||-1===t.quantity}function d(t){return!t.quantity||t.count>t.quantity}function h(t){return t.quantity>0&&!d(t)}function u(t){const u=flexbe_cli.locale.tr.bind(flexbe_cli.locale),{inStockStatus:m,outOfStockStatus:p,allowPreorder:f}=flexbe_cli.ecommerce.cartSettings;if(!c(t))return{...e,title:u(e.title),show:!0};if(t.hidden)return{...s,title:u(s.title),show:!0};if(l(t)||h(t)&&"in_stock"===m||d(t)&&f&&"in_stock"===p)return{...e,title:u(e.title),show:!0};if(h(t)&&"items_in_stock"===m)return{...o,title:u(o.title,{count:+t.quantity}),show:!0};if(d(t)){if(f&&"preorder"===p)return{...i,title:u(i.title),show:!0};if(!f&&!t.quantity)return{...n,title:u(n.title),show:!0};if(!f&&t.quantity>0)return{...r,title:u(r.title,{count:t.quantity}),show:!0}}return{show:!1,...a}}async function m(){const t=flexbe_cli.ecommerce.cartStore.getList();if(!t.some((t=>c(t))))return t;const e=t.map((t=>t.productId)).filter((t=>t));return new Promise(((o,i)=>$.ajax({url:"/api/ecommerce/products_cart/",type:"GET",dataType:"json",data:{productsIds:e,groupId:flexbe_cli.group_id}}).done((e=>{if(!Array.isArray(e))return i(new Error("loadProductsList: empty result"));const n=t.map((t=>{const o={...t},i=e.find((e=>e.id===t.productId)),n=i&&i.variants.find((e=>e.id===t.variantId));var r,s;return o.hidden=c(t)&&(!i||!n||!i.visible||!n.visible),n&&(o.img=(s=n,"product"===(r=i).display_image?s.default_image_id&&r.images.length?r.images.find((t=>t.unq_id===s.default_image_id))||r.images[0]:r.images.length?r.images[0]:null:s.images.length?s.images[0]:null),o.quantity=function(t){return l(t)?1/0:t.quantity}(n),o.title=i.name,o.price=n.price,o.vendorCode=n.vendor_code,o.optionsInfo=n.optionsInfo),o}));o(n)})).fail((t=>{i(t)}))))}let p,f;function _(){if(flexbe_cli.is_admin){if((window.parent.flexbe.modal.visible||[]).length)return!1}return!0}async function v(){const t=await m();flexbe_cli.ecommerce.cartStore.dispatch("updateList",t),clearTimeout(p),p=setTimeout((()=>v()),12e5)}const g="cart_changes",y='<svg class="arrow" viewBox="0 0 16 16"><path d="M3 8H13M13 8L10 5M13 8L10 11" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';function b(t,e){const o=$(`\n        <div class="m_modal m_${g}" data-is="modal" data-id="${g}" data-m-id="cart_changes">\n            <div class="modal-data" data-overlay="true">\n                <div class="component-bg bg-color" data-type="color"><div class="overlay"></div></div>\n\n                <div class="modal-content" data-contrast="dark">\n                    ${function({title:t}){return`\n        <div class="modal-title">\n            <svg width="16" height="16" viewBox="0 0 16 16">\n                <path d="M7.00006 1C7.00006 0.447715 7.44778 0 8.00006 0C8.55235 0 9.00006 0.447715 9.00006 1V2.10002C11.2823 2.56329 13.0001 4.58104 13.0001 7V11H13L15 13H9.7325C9.90267 13.2942 10.0001 13.6357 10.0001 14C10.0001 15.1046 9.10463 16 8.00006 16C6.89549 16 6.00006 15.1046 6.00006 14C6.00006 13.6357 6.09746 13.2942 6.26763 13H1L3.00006 10.9999V7C3.00006 4.58104 4.71782 2.56329 7.00006 2.10002V1ZM5.00006 11H11.0001V7C11.0001 5.34315 9.65692 4 8.00006 4C6.34321 4 5.00006 5.34315 5.00006 7V11Z" fill="currentColor"/>\n            </svg>\n\n            <span class="text">${t}</span>\n            <a class="close close-times"></a>\n        </div>`}({title:t.title})}\n                    ${function(t){return`<div class="products-list">${t.list.map((t=>function(t){const e=t.changes||[],o=e.reduce(((t,e)=>(t+=`<div class="variant-change ${void 0!==e.isBad?"variant-change--"+(e.isBad?"bad":"good"):""}">`,e.message&&(t+=`<div class="variant-change__message">${e.message}</div>`),null!=e.from&&null!=e.to&&(t+=`<div class="variant-change__info">\n                <span class="from">${e.from}</span>\n                ${y}\n                <span class="to">${e.to}</span>\n            </div>`),t+="</div>")),"");return`\n        <div class="product-item">\n            <div class="product-title">${t.title}</div>\n            ${t.variant?`<div class="variant-title">${t.variant}</div>`:""}\n            <div class="variant-changes variant-changes--${e.length>1?"many":"one"}">${o}</div>\n            ${t.errorMessage?`<div class="variant__error-message">${t.errorMessage}</div>`:""}\n        </div>`}(t))).join("")}</div>`}(t)}\n\n                    ${e.showActions?function(){const{locale:t}=flexbe_cli;return`\n        <div class="modal-footer">\n            <div class="button filled" data-action="apply">\n                <div class="text">${t.tr("cart::price_confirmation::apply")}</div>\n            </div>\n\n            <div class="button" data-action="cancel">\n                <div class="text">${t.tr("cart::price_confirmation::cancel")}</div>\n            </div>\n        </div>`}():""}\n                </div>\n            </div>\n        </div>\n    `);return o.on("click","[data-action]",(t=>{const o=t.currentTarget.getAttribute("data-action");"apply"===o&&e.onConfirm&&e.onConfirm(),"cancel"===o&&e.onCancel&&e.onCancel()})),o}async function k(t,e){const{modal:o,entity:i,events:n}=flexbe_cli;return new Promise((r=>{let s;const a=function(t){const{locale:e}=flexbe_cli,o=e.tr("cart::promocode::block::title"),i=[];if(t.discount){const{oldData:o,newData:n}=t.discount;if([o,n].forEach((t=>{if(t){let o=e.formatMoney(+t.discount_amount);"percent"===t.discount_type&&(o=+t.discount_amount+"%"),t.delivery_free&&(o=`${o} + ${e.tr("cart::promocode::delivery_free").toLowerCase()}`),t.value=o}})),null!=o&&o.value||null!=n&&n.value){const t=+((null==o?void 0:o.discountValue)||0),r=+((null==n?void 0:n.discountValue)||0),s={type:"price",from:(null==o?void 0:o.value)||0,to:(null==n?void 0:n.value)||0,isBad:t>r};i.push({title:e.tr("cart::discount_title"),changes:[s]})}}if(t.promocode){const{oldData:o,newData:n,currentData:r,code:s}=t.promocode;if(r&&!r.isAvailable)i.push({title:e.tr("cart::promocode::not_applied_title",{code:r.code.toUpperCase()}),errorMessage:e.tr("cart::promotion::code::default_error")});else if(r&&!r.isActive)i.push({title:e.tr("cart::promocode::not_applied_title",{code:r.code.toUpperCase()}),errorMessage:e.tr("cart::promotion::code::amount_error",{amount:r.activeFrom})});else if(o&&n){[o,n].forEach((t=>{let o=e.formatMoney(+t.discount_amount);"percent"===t.discount_type&&(o=+t.discount_amount+"%"),"delivery"===t.discount_type?o=e.tr("cart::promocode::delivery_free"):t.delivery_free&&(o=`${o} + ${e.tr("cart::promocode::delivery_free").toLowerCase()}`),t.value=o}));const t={type:"price",from:o.value,to:n.value};if(o.discount_type===n.discount_type&&(!o.hasFreeDelivery&&!n.hasFreeDelivery||o.hasFreeDelivery&&n.hasFreeDelivery)){const e=+((null==o?void 0:o.discountValue)||0),i=+((null==n?void 0:n.discountValue)||0);t.isBad=e>i}i.push({title:`${e.tr("cart::promocode_title")} (${s.toUpperCase()})`,changes:[t]})}}return{title:o,list:i}}(t),c=()=>{s&&flexbe_cli.events.emit("ui_modal_close",{id:s.id})},l=()=>(c(),e.onConfirm&&e.onConfirm(),r(!0));if(!a.list.length)return l();const d=b(a,{...e,onConfirm:l,onCancel:()=>(c(),e.onCancel&&e.onCancel(),r(!1))});o.$list.append(d),s=i.initArea(d),setTimeout((()=>{n.emit("ui_modal_open",{id:s.id,options:{hash:!1,rise:!0,...e,onClose:()=>{e.onClose&&e.onClose(),d.remove()}}})}),30)}))}async function C(t,e){const{modal:o,entity:i,events:n}=flexbe_cli;return new Promise((r=>{let s;const a=function(t){const{locale:e}=flexbe_cli;return{title:flexbe_cli.locale.tr("cart::variant_confirmation::title"),list:t.filter((t=>c(t))).map((t=>{const o=u(t),i={title:t.title,variant:t.optionsInfo?t.optionsInfo.map((t=>t.name)).join(", "):"",changes:[]};return["not_available","out_of_stock"].includes(o.key)&&i.changes.push({isBad:!0,type:"not_available",message:o.title}),t.price!==t.orderPrice&&i.changes.push({isBad:t.orderPrice<t.price,type:"price",message:e.tr("cart::variant_confirmation::error::price_changed"),from:e.formatMoney(t.orderPrice,{freeLabel:!1}),to:e.formatMoney(t.price,{freeLabel:!1})}),"items_left_in_stock"===o.key&&i.changes.push({isBad:!0,type:"count",message:e.tr("cart::variant_confirmation::error::quantity_changed"),from:`${t.count} ${e.tr("cart::item")}`,to:`${t.quantity} ${e.tr("cart::item")}`}),i})).filter((t=>t.changes.length))}}(t),l=()=>{s&&flexbe_cli.events.emit("ui_modal_close",{id:s.id})},d=()=>(l(),e.onConfirm&&e.onConfirm(),r(!0));if(!a.list.length)return void d();const h=b(a,{...e,onConfirm:d,onCancel:()=>(l(),e.onCancel&&e.onCancel(),r(!1))});o.$list.append(h),s=i.initArea(h),setTimeout((()=>{n.emit("ui_modal_open",{id:s.id,options:{hash:!1,rise:!0,...e,onClose:()=>{e.onClose&&e.onClose(),h.remove()}}})}),30)}))}let x;var w={isOpened:!1,cartInited:!1,get cartStore(){return flexbe_cli.ecommerce.cartStore},get deliveryStore(){return flexbe_cli.ecommerce.deliveryStore},get promotionStore(){return flexbe_cli.ecommerce.promotionStore},get list(){return this.cartStore.getList()||[]},get changedPrices(){return this.list.filter((t=>c(t)&&null!=t.orderPrice&&t.orderPrice!==t.price))},get count(){var t;return null!=(t=this.cartStore.getCount())?t:0},get activeDiscount(){return this.promotionStore?this.promotionStore.activeDiscount:null},get activeDiscountAmount(){return this.activeDiscount?this.activeDiscount.discountValue:0},get appliedPromocode(){return this.promotionStore?this.promotionStore.appliedPromocode:null},get isDeliveryPromocode(){var t;return"delivery"===(null==(t=this.appliedPromocode)?void 0:t.discount_type)},get isPromocodeWithFreeDelivery(){var t;return null==(t=this.appliedPromocode)?void 0:t.delivery_free},get appliedPromocodeAmount(){return this.appliedPromocode?this.appliedPromocode.discountValue:0},get promocodeIsActive(){return!!this.appliedPromocode&&this.appliedPromocode.isActive},get deliveryMethods(){var t;return(null==(t=this.deliveryStore)?void 0:t.methods)||[]},get deliveryActiveMethod(){var t;return(null==(t=this.deliveryStore)?void 0:t.getActive())||{}},get deliveryActivePrice(){if(!(this.cartSettings.hasDelivery&&this.deliveryStore))return 0;return this.deliveryStore.getPrice().current},get subtotal(){var t;return null!=(t=this.cartStore.getTotal())?t:0},get total(){const t=this.subtotal,e=this.appliedPromocode,o=this.deliveryActivePrice,i=this.activeDiscountAmount,n=this.appliedPromocodeAmount;let r=t-i;return e&&this.promocodeIsActive&&(r=e.usage_with_any_discount?t-i-n:t-n),Math.max(0,r)+o},initCart(e=t){e={...t,...e},this.cartInited=!0;const o=this.$widget,i=o.find(e.$container);this.$content=i,this.$list=this.$widget.find(e.$list),this.$itemTemplate=this.$itemTemplate||this.$list.find("template").clone(),this.$button=o.find(e.$button),this.$buttonCount=o.find(e.$buttonCount),this.$form=o.find(e.$form),this.$formButton=this.$form.find(e.$formButton),this.$count=o.find(e.$count),this.$total=o.find(e.$total),this.$discountLine=o.find(e.$discountLine),this.$promocodeLine=o.find(e.$promocodeLine),this.$checkoutBlock=o.find(e.$checkoutBlock),this.$minTotal=o.find(e.$minTotal),this.$subtotal=o.find(e.$subtotal),this.$shipping=o.find(e.$shipping),this.$shippingLine=o.find(e.$shippingLine),this.$shippingNotFix=o.find(e.$shippingNotFix),this.$untilFree=o.find(e.$untilFree),this.$nearestDiscount=o.find(e.$nearestDiscount),this.$promocodeField=o.find(e.$promocodeField),this.$promocodeBlock=o.find(e.$promocodeBlock),this.$promocodeTextLink=o.find(e.$promocodeTextLink),this.cartSettings={...flexbe_cli.ecommerce.cartSettings,hasDelivery:this.$form.find('[data-type="delivery"]').length>0,showVendorCode:!!i.data("showVendorCode"),showInStockStatuses:!!i.data("showInStockStatuses"),showChangedPrices:!!i.data("showChangedPrices")},this.deliveryStore&&(this.arrMinDelivery=this.deliveryMethods.filter((t=>t.useMinTotal&&this.cartSettings.minTotal<+t.prices[0].from)).map((t=>(t.$item=this.$form.find(`[data-delivery="${t.id}"]`),t)))),$(".cart-button-holder").css("display","block"),this.initCartEvents(),this.renderCart()},initCartEvents(){flexbe_cli.events.off("ui_cart_open.cart-widget").on("ui_cart_open.cart-widget",(async()=>{await this.open()})),flexbe_cli.events.off("ui_cart_close.cart-widget").on("ui_cart_close.cart-widget",(()=>{this.close()})),setTimeout((()=>{this.cartStore.on("dispatch.cart-widget",((t,{name:e})=>{["updateList","resetList","removeItem","updateCount","normalizeListItems"].includes(e)?(this.promotionStore&&!flexbe_cli.is_admin&&(this.promotionStore.updateActiveDiscount(),this.promotionStore.updateNearestDiscount()),this.renderCart()):"addItem"===e&&this.onItemsAdd()})),this.promotionStore&&!flexbe_cli.is_admin&&this.promotionStore.on("dispatch.cart-widget",((t,{name:e})=>{["applyPromocode","removePromocode","acceptPromotionChanges"].includes(e)&&this.renderCart()})),this.deliveryStore&&this.deliveryStore.on("dispatch.cart-widget",((t,{name:e})=>{"selectMethod"===e&&this.renderCart()}))}),40)},initFormComponent(){const t=flexbe_cli.components.initComponent(this.$form[0]);if(!t)return void console.error("Form not founded in cart!");this.formInstance=t;const e=e=>{const o=this.cartSettings.hasDelivery&&this.deliveryActiveMethod,i=function(t){return t.filter((t=>t.count&&!t.hidden)).map((t=>({id:t.id,type:t.type,count:t.count,price:t.price,title:t.title||"",img:t.img&&{id:t.img.id,ext:t.img.ext,unq_id:t.img.unq_id},product_id:t.productId,variant_id:t.variantId})))}(e);if(o){const e=[{name:"delivery[id]",value:o.id,type:"hidden"},{name:"delivery[price]",value:o.price.current,type:"hidden"}];t.addFields(e,!1)}return i},o=()=>{const{activeDiscount:e,appliedPromocode:o}=this.promotionStore,i=[];e&&i.push({name:"promotions[discount]",value:e.id,type:"hidden"}),o&&i.push({name:"promotions[promocode]",value:o.id,type:"hidden"}),i.length&&t.addFields(i,!1)};t.defineBeforeSend((async()=>{if(flexbe_cli.is_admin)return!1;this.cartStore.dispatch("normalizeListItems",this.list,{price:!0,count:!0,unavailable:!0});const i=this.list;if(i&&i.length&&t.addItems(e(i)),this.promotionStore&&!flexbe_cli.is_admin){const{activeDiscount:t,promotionsChanges:e,appliedPromocode:i}=this.promotionStore;if(i)try{const t=await this.promotionStore.loadDataPromocode(i.code);this.promotionStore.updatePromocode(t)}catch(t){this.promotionStore.updatePromocode(void 0)}t&&await this.promotionStore.loadDiscountList();const n=this.promotionStore.appliedPromocode;if(!await k({discount:{...e.discount,currentData:this.promotionStore.activeDiscount},promocode:{...e.promocode,currentData:n}},{showActions:!0}))return this.renderCart(),!1;this.promotionStore.dispatch("acceptPromotionChanges"),!n||n.isActive&&n.isAvailable||this.promotionStore.removePromocode(),o()}return!0})),t.defineOnRequestError((async i=>{const n=i.status;if(500===n)return alert(flexbe.locale.tr("main::error::network_cart")),!1;if(409===n){const n=await m(),{activeDiscount:r,appliedPromocode:s}=this.promotionStore;if(s)try{const t=await this.promotionStore.loadDataPromocode(s.code);this.promotionStore.updatePromocode(t)}catch(t){this.promotionStore.updatePromocode(void 0)}r&&await this.promotionStore.loadDiscountList(),this.cartStore.updateList(n),this.promotionStore&&!flexbe_cli.is_admin&&(this.promotionStore.updateActiveDiscount(!0),this.promotionStore.updateAppliedPromocode()),this.renderCart();if(!await C(n,{showActions:!0}))return this.renderCart(),!1;if("Delivery not found"===i.message)return this.setDeliveryMethodError(this.deliveryActiveMethod.id),!1;if(this.promotionStore.dispatch("acceptPromotionChanges"),this.cartStore.dispatch("normalizeListItems",n,{price:!0,count:!0,unavailable:!0}),!n.length)return console.error("Product list is empty"),!1;t.addItems(e(n)),o(),t.sendForm()}return!0})),t.defineAfterSent((()=>{var t;this.close(),null==(t=this.promotionStore)||t.removePromocode(),this.cartStore.dispatch("purchase")}))},onItemsAdd(){this.$button.removeClass("blink"),this.$button.outerWidth(),this.$button.addClass("blink"),this.renderCart(),this.cartSettings.autoOpen&&1===this.count&&!this.isOpened&&setTimeout((()=>this.open()),200)},async open(){!this.isOpened&&this.cartInited&&(this.isOpened=!0,flexbe_cli.is_admin?this.$content.addClass("is-editor"):/cart/.test(window.location.hash)||(/^#{1,2}/.test(window.location.hash)&&(x=window.location.hash),flexbe_cli.lockPopstate=!0,window.history.pushState(null,null,"#cart"),flexbe_cli.lockPopstate=!1),this.renderCart(),$(document.body).addClass("is-cart-open"),this.$area.addClass("show"),this.$content.addClass("show"),this.$content.hasClass("noanimate")||this.$content.outerHeight(),this.$area.addClass("fade-in"),this.$content.addClass("fade-in"),this.$content.removeClass("noanimate"),this.$area.removeClass("noanimate"),this._onOpen(),flexbe_cli.scroll.scrollLock.lock(),flexbe_cli.events.emit("cart_opened"),this.promotionStore&&!flexbe_cli.is_admin&&await this.promotionStore.loadDiscountList({updateChanges:!1}),v())},close(){if(this.isOpened&&this.cartInited){if(this.isOpened=!1,$(window).off("keyup.cart_esc_close"),this.$area.removeClass("show fade-in"),this.$content.removeClass("fade-in"),this.$area.addClass("fade-out"),this.$content.addClass("fade-out"),setTimeout((()=>{this.$area.removeClass("fade-out"),this.$content.removeClass("fade-out show noanimate"),$(document.body).removeClass("is-cart-open")}),350),this.formInstance.removeFieldsErrors(),/cart/.test(window.location.hash)){const t=x&&x!==window.location.hash&&"#"!==x?x:window.location.pathname;flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,t),flexbe_cli.lockPopstate=!1,x=null}Object.values(flexbe_cli.modal.opened).length||flexbe_cli.scroll.scrollLock.unlock(),flexbe_cli.events.emit("cart_closed"),!this.count&&this.appliedPromocode&&this.promotionStore.removePromocode(),this._onClose(),flexbe_cli.is_admin||(this.list.forEach((t=>this.cancelRemoveItemDelayed(t.id))),this.cartStore.dispatch("updateList",this.list.filter((t=>0!==t.count))))}},renderCart(){const t=this.count;if(setTimeout((()=>{this.renderButton()}),50),this.isOpened){const{hasDelivery:e}=this.cartSettings,o=flexbe_cli.locale,i=this.activeDiscount,n=this.appliedPromocode,r=flexbe_cli.is_admin||i&&!(this.promocodeIsActive&&(null==n||!n.usage_with_any_discount)),s=flexbe_cli.is_admin||this.promocodeIsActive&&!this.isDeliveryPromocode;if(r){const t="percent"===(null==i?void 0:i.discount_type)?+i.discount_amount+"%":"",e=`- ${flexbe_cli.locale.formatMoney(this.activeDiscountAmount)}`;this.$discountLine.find(".cart-checkout-promotion__value").text(t),this.$discountLine.find(".cart-checkout-promotion__amount").text(e),this.$discountLine.show()}else this.$discountLine.hide();const a="percent"===(null==n?void 0:n.discount_type)?+n.discount_amount+"%":o.formatMoney((null==n?void 0:n.discount_amount)||0);if(n){const t=o.tr("cart::promocode::block_title",{code:n.code.toUpperCase()}),{hasDelivery:e}=this.cartSettings;let i="";i=this.isDeliveryPromocode?o.tr("cart::promocode::delivery_free"):`${o.tr("cart::discount_title")} ${a} ${this.isPromocodeWithFreeDelivery&&e?`+ ${o.tr("cart::promocode::delivery_free").toLowerCase()}`:""}`,this.$promocodeBlock.find(".applied-promocode-block__title span").text(t),this.$promocodeBlock.find(".applied-promocode-block__text").text(i)}if(s){const t="percent"===(null==n?void 0:n.discount_type),e=`- ${o.formatMoney(this.appliedPromocodeAmount)}`;this.$promocodeLine.find(".cart-checkout-promotion__value").text(t?a:""),this.$promocodeLine.find(".cart-checkout-promotion__amount").text(e),this.$promocodeLine.show()}else this.$promocodeLine.hide();this.$count.text(t),this.$subtotal.text(flexbe_cli.locale.formatMoney(this.subtotal)),flexbe_cli.locale.animateNumber({target:this.$total,to:this.total,asMoney:!0,freeLabel:!1}),this.$checkoutBlock.attr("data-hidden",flexbe_cli.is_admin||e||this.promocodeIsActive||this.activeDiscount?"false":"true"),this.renderList(),this.manageDeliveryBlock(),this.managePriceChangedBlock(),this.promotionStore&&!flexbe_cli.is_admin&&(this.manageDiscountBlock(),this.managePromotionChangedBlock(),this.managePromocode()),this.manageForm(),setTimeout((()=>function(t){if(!flexbe_cli.tip)return null;const e=t.is("[data-tip]")?t:t.find("[data-tip]");return e.length?(e.each(((t,e)=>flexbe_cli.tip.init(e))),e):null}(this.$widget)))}"function"==typeof this.onRenderCart&&this.onRenderCart()},renderButton(){const t=this.count,e=$(".is-mobile .nav-header-controls--cart").length>0,o=$(".header-cart-button-holder").closest(".b_block:not([data-hidden=desktop])").length>0;this.$buttonCount.text(t),this.$button.attr("data-count",t),flexbe_cli.is_admin?this.$button.attr("data-hidden","false"):e||o?this.$button.attr("data-hidden","true"):this.$button.attr("data-hidden",this.isOpened||0===t)},renderList(){const t=this.list,e=t.reduce(((t,e)=>t+this.renderItem(e)),"");!function(t){const e=t.find("input:focus")[0];f={},e&&(f.id=e.closest("[data-id]").getAttribute("data-id"),f.selectionStart=e.selectionStart,f.selectionEnd=e.selectionEnd)}(this.$list),this.$content.toggleClass("cart-is-empty",0===t.length),this.$list.html(e),function(t){const{id:e,selectionStart:o,selectionEnd:i}=f||{};if(e){const n=t.find(`[data-id="${e}"] .item-count__input`)[0];n&&(n.focus(),n.setSelectionRange(o,i)),f={}}}(this.$list),this.listRendered=!0},renderItem(t){const e=this.$itemTemplate.html(),o=u(t);o.show&&["in_stock","items_in_stock"].includes(o.key)&&(o.show=this.cartSettings.showInStockStatuses);const i=this.cartSettings.showVendorCode&&null!=t.vendorCode,n=this.cartSettings.allowPreorder,r=n||l(t),s=!t.hidden&&(r||t.count<t.quantity),a=!t.hidden&&t.count>0,c=d(t)&&!n;let h="";return n||(!t.quantity||/out_of_stock|not_available/.test(o.key)?h=flexbe_cli.locale.tr("cart::out_of_stock_tip"):t.count>=t.quantity&&(h=flexbe_cli.locale.tr("cart::quantity_status::items_left_in_stock",{count:t.quantity}))),function(t,e={}){const o=Object.keys(e),i=Object.values(e);return new Function(...o,`return \`${t}\`;`)(...i)}(e,{id:t.id,productId:t.productId,variantId:t.variantId,title:t.title,count:t.count,price:t.price,sum:t.count*(t.price||0),img:flexbe_cli.helpers.image.getImageUrl(t.img,200),vendorCode:i?t.vendorCode:null,optionsInfo:t.optionsInfo?t.optionsInfo.map((t=>t.name)).join(", "):"",status:o,priceText:null==t.price?flexbe_cli.locale.tr("ecommerce::card::price::empty"):flexbe_cli.locale.formatMoney(t.price),sumText:null==t.price?flexbe_cli.locale.tr("ecommerce::card::price::empty"):flexbe_cli.locale.formatMoney(t.count*t.price),plusTip:h,canIncrease:s,canDecrease:a,inputError:c,minCount:0,maxCount:r?1/0:t.quantity})},updateItemCount(t,e){const o=t.id;if(this.cartStore.dispatch("updateCount",{id:o,count:e}),this.cancelRemoveItemDelayed(o),!t.count){const e=u(t);e&&/out_of_stock|not_available/.test(e.key)?this.removeItem(o):this.removeItemDelayed(o)}},removeItem(t){flexbe_cli.is_admin||(this.cancelRemoveItemDelayed(t),this.cartStore.dispatch("removeItem",t))},removeItemDelayed(t,e=5e3){this[`removeTimer_${t}`]=setTimeout((()=>{this.removeItem(t)}),e)},cancelRemoveItemDelayed(t){clearTimeout(this[`removeTimer_${t}`]),delete this[`removeTimer_${t}`]},manageDeliveryBlock(){if(!this.deliveryStore)return;const t=this.subtotal,{minTotal:e,hasDelivery:o}=this.cartSettings,i=this.deliveryStore.getPrice(),{notFixedPrice:n,currentFormatted:r}=i,s=e-t,a=e>i.minTotal,c=a&&s>0;if(e&&this.$minTotal.length&&(this.$minTotal.attr("data-hidden",!c),this.$minTotal.find(".min-total__total").text(flexbe_cli.locale.formatMoney(e,{freeLabel:!0})),flexbe_cli.locale.animateNumber({target:this.$minTotal.find(".min-total__count"),to:s,asMoney:!0,freeLabel:!1})),this.arrMinDelivery.length&&this.arrMinDelivery.forEach((e=>{const o=e.prices[0].from>t;e.$item.toggleClass("form-field-delivery-item--blocked",o)})),this.$shippingLine.attr("data-hidden",o?"false":"true"),this.$shipping.text(r),this.$shippingNotFix.attr("data-hidden",!n),o&&this.$untilFree.length){const t=i.untilMinTotal/i.minTotal*100,e=i.untilFree/i.freeFrom*100,o=i.untilMinTotal?t:e,n=(i.untilFree||i.untilMinTotal)&&(!(s>0)||!a)&&!this.isPromocodeWithFreeDelivery;this.$untilFree.attr("data-hidden",!n),this.$untilFree.toggleClass("show-min-total",!!i.untilMinTotal),this.$untilFree.find(".progress-path").attr("stroke-dashoffset",o),flexbe_cli.locale.animateNumber({target:this.$untilFree.find(".delivery-free__count"),to:i.untilFree,asMoney:!0,freeLabel:!1}),flexbe_cli.locale.animateNumber({target:this.$untilFree.find(".delivery-min-total__count"),to:i.untilMinTotal,asMoney:!0,freeLabel:!1})}},manageDiscountBlock(){var t;const e=this.promotionStore.nearestDiscount,o=e&&(!this.promocodeIsActive||(null==(t=this.promotionStore.appliedPromocode)?void 0:t.usage_with_any_discount));if(this.$nearestDiscount.attr("data-hidden",!o),e){const t=100-this.subtotal/e.active_from*100,o="percent"===e.discount_type?+e.discount_amount+"%":flexbe_cli.locale.formatMoney(e.discount_amount,{useNonBreakingSpace:!0}),i=flexbe_cli.locale.formatMoney(e.active_from-this.subtotal,{useNonBreakingSpace:!0});this.$nearestDiscount.find(".progress-path").attr("stroke-dashoffset",t),this.$nearestDiscount.find(".cart-info__text").html(flexbe_cli.locale.tr("cart::neasted_discount",{discount:o,total:i}))}},managePriceChangedBlock(){if(!this.cartSettings.showChangedPrices)return;const t=this.changedPrices,e=this.$content.find(".cart-products-changed"),o=e.find(".cart-info-block__notice"),i=e.find(".cart-info-block__close"),n=e.find(".cart-info-block__more");e.attr("data-hidden",0===t.length),o.text(flexbe_cli.locale.tr("cart::price_confirmation::items_price_changed",{count:t.length})),n.off("click").on("click",(async()=>{await C(this.changedPrices,{showActions:!0})&&this.cartStore.dispatch("normalizeListItems",this.list,{price:!0})})),i.off("click").on("click",(()=>{this.cartStore.dispatch("normalizeListItems",this.list,{price:!0})}))},managePromotionChangedBlock(){const{hasPromotionChanges:t}=this.promotionStore,e=this.promotionStore.promotionsChanges,o=this.$content.find(".cart-discount-changed"),i=o.find(".cart-info-block__close"),n=o.find(".cart-info-block__more");o.attr("data-hidden",!t),n.off("click").on("click",(async()=>{await k(e,{showActions:!0})&&this.promotionStore.dispatch("acceptPromotionChanges")})),i.off("click").on("click",(()=>{this.promotionStore.dispatch("acceptPromotionChanges")}))},manageForm(){this.formInstance||this.initFormComponent(),this.manageFormButton()},async managePromocode(){const t=flexbe_cli.locale,e=this.$promocodeField.find(".apply-button"),o=this.$promocodeBlock.find(".applied-promocode-block__remove"),i=this.$promocodeField.find(".hide-promocode-field"),n=this.$widget.find(".cart-field-promocode"),r=this.$promocodeField.find('input[type="promocode"]'),s=this.$promocodeField.find(".error-text"),a=this.$promocodeBlock.find(".error-text"),c=!!flexbe_cli.vars._group.hasPromocodes||this.appliedPromocode,l=n.find(".form-field").data("showPromocodeLink");if(n.attr("data-hidden",!c),!c)return;const d=()=>this.$promocodeField.attr("data-status"),h=t=>{if("applied"===t){const t=d();setTimeout((()=>{this.$promocodeBlock.attr("data-hidden",!1),this.$promocodeField.attr("data-hidden",!0)}),"loading"===t?1e3:0)}else"error"===t?(this.$promocodeField.addClass("is_error"),e.attr("disabled","")):t||(this.$promocodeField.removeClass("is_error"),e.removeAttr("disabled"),this.$promocodeBlock.attr("data-hidden",!0),this.$promocodeField.attr("data-hidden",!1));this.$promocodeField.attr("data-status",t)},u=t=>{t.target.value=t.target.value.replace(/[^.-\dA-Z_a-zА-я]/g,""),h("")},m=()=>{l&&(this.$promocodeTextLink.toggleClass("hide"),this.$promocodeField.toggleClass("hide"))},p=async()=>{const e=r[0].value.trim().toLowerCase();if(""!==e){h("loading");try{await this.promotionStore.dispatch("applyPromocode",e),h("applied")}catch(e){let o=t.tr(e.message||"cart::promotion::code::notfound_error");"total_error"===e.name?(o=t.tr("cart::promotion::code::amount_error",{amount:flexbe_cli.locale.formatMoney(+e.message)}),setTimeout((()=>{h("")}),3e3)):"default_error"===e.name?o=t.tr("cart::promotion::code::default_error"):"timeout_error"===e.name&&(o=t.tr("cart::promotion::code::timeout_error")),s.text(o),h("error")}this.renderCart()}};if(this.appliedPromocode)if(this.appliedPromocode.isAvailable)if(this.promocodeIsActive)this.$promocodeBlock.removeClass("is_error");else{const e=flexbe_cli.locale.formatMoney(this.appliedPromocode.active_from),o=t.tr("cart::promotion::code::amount_error",{amount:e});a.html(o),this.$promocodeBlock.addClass("is_error")}else{const e=t.tr("cart::promotion::code::default_error");a.html(e),this.$promocodeBlock.addClass("is_error")}this.$promocodeTextLink.off("click").on("click",(()=>{m(),setTimeout((()=>{r.focus()}),20)})),i.off("click").on("click",m),r.off("input").on("input",u),r.off("change").on("change",u),e.off("click").on("click",p),o.off("click").on("click",(async()=>{await this.promotionStore.dispatch("removePromocode"),h(""),r[0].value="",r.focus(),this.renderCart()})),r.off("keydown").on("keydown",(t=>{"Enter"===t.key&&p()})),!d()&&this.appliedPromocode?(h("applied"),this.$promocodeTextLink.addClass("hide"),this.$promocodeField.removeClass("hide"),r.val(this.appliedPromocode.code)):"applied"!==d()||this.appliedPromocode||(h(""),r.val(""),m(),this.$promocodeBlock.attr("data-hidden",!this.appliedPromocode))},setDeliveryMethodError(t){this.$form.find(".form-field-delivery-item").eq(0).trigger("click");this.$form.find(`[data-delivery=${t}]`).addClass("delivery-error"),this.renderCart()},manageFormButton(){var t,e;const o=flexbe_cli.locale;let i=!1,n="";const r=this.list,s=this.subtotal,a=0===r.filter((t=>0!==t.count)).length,c=null==(t=this.deliveryStore)?void 0:t.getPrice(),l=null==(e=this.formInstance.$delivery)?void 0:e.length,h=(null==c?void 0:c.minTotal)||0,u=this.cartSettings.minTotal,m=u>h,p=this.cartSettings.allowPreorder,f=r.some((t=>t.hidden||!p&&d(t)));a?i=!0:m&&u>s?(i=!0,n=`${o.tr("cart::min_total_tip")} ${o.formatMoney(u,{freeLabel:!1})}`):!m&&h>s&&l?(i=!0,n=`${o.tr("cart::min_total_delivery_tip")} ${o.formatMoney(h,{freeLabel:!1})}`):f&&(i=!0,n=`${o.tr("cart::some_items_not_available_tip")}`),i?this.formInstance.disableSubmit(n):this.formInstance.enableSubmit()}};const S=Object.defineProperties(w,Object.getOwnPropertyDescriptors({components:["background","form","icon"],onReady(){this.initCart(),this.initUIEvents(),this.updated&&this.isOpened&&(this.$area.addClass("show"),this.$content.addClass("show fade-in"))},initUIEvents(){let t,e;$(document).off("keyup.cart_esc_close").on("keyup.cart_esc_close",(t=>{27===t.which&&_()&&!flexbe_cli.modal.$list.hasClass("rise")&&this.close()})),this.$content.off("click.close-button").on("click.close-button","a.close",(t=>{_()&&t.target===t.currentTarget&&this.close()})),this.$widget.off(".close-overlay").on("pointerup.close-overlay pointerdown.close-overlay",'[data-overlay="true"]',(o=>{_()&&("pointerdown"===o.type?(t=o.target,e=o.target.clientWidth<=o.clientX):o.target!==t||o.target!==o.currentTarget||e||(t=null,this.close()))})),this.$widget.off("click.cart-button").on("click.cart-button",".cart-button",(()=>{this.isOpened?this.close():this.open()})),this.$widget.off("click.cart-actions").on("click.cart-actions","[data-action]",(t=>{const e=$(t.currentTarget),o=e.attr("data-action"),i=e.hasClass("disabled"),n=e.closest("li").attr("data-id"),r=this.list.find((t=>t.id===n));n&&r&&!i&&("remove"===o?this.removeItem(n):"+"!==o&&"-"!==o||this.updateItemCount(r,o))})),this.$widget.off(".cart-input").on("input.cart-input blur.cart-input","input.count",(t=>{const e=t.currentTarget.value,o=$(t.currentTarget).closest("li").attr("data-id"),i=e?Math.abs(+e):0,n="blur"===t.type||"focusout"===t.type,r=this.list.find((t=>t.id===o));r&&r.count!==i&&(i||n)&&this.updateItemCount(r,i)}))}}));flexbe_cli.entity.setClientJs("widget","CART",S)}();

!function(){const e="hidden-mobile",t="mobile-navigation--created",s="nav-header-controls--burger",n=".b_block",i=".element-item",o=".mobile-navigation",r=".header-wrapper",l=".widget-list .cart-button",c=".header-cart-button",d=".nav-header",h=".nav-header-content",u=".nav-header-controls",b=".nav-menu",m=(t,a=!1)=>{let s=$(t);if(!s.is(i)){const e=s.closest(i);s=e.length?e:s}s.toggleClass(e,!a)};flexbe_cli.entity.setClientJs("widget","MENU01",{created:{},navbarStyle:null,onLoad(){requestAnimationFrame((()=>this.createWidget()));let e=flexbe_cli.resize.responsiveMode;$(window).on("resized",(()=>{const t=flexbe_cli.resize.responsiveMode;e!==t&&"mobile"===t&&this.createWidget(),e=t}))},onMsg(e){"postProcessSave"===e&&this.createWidget(e)},createWidget(){this.clickEvent="click",this.navbarStyle=!1,this.navmenuCreated=!1,this.created={},this.contrast="dark",this.background="#FFFFFF";const e=flexbe_cli.block.$list,t=$(n),a=e.find(r);if(m(a,!0),m(t,!0),this.mobileHeadersMap=t.not('[data-hidden="mobile"]').toArray().map((e=>{const t=$(e),a=t.find(r),s=a.hasClass("floating-header"),n=!!a.data("mobile-menu"),i=a[0]?a[0].closest("[data-abtest-active]"):null,o=a[0]?a[0].closest("[data-abtest-id]"):null,l=a.data("widget-color"),c=a.data("widget-contrast"),d=a.closest("[data-contrast]").attr("data-contrast");return{$block:t,$header:a,isFixed:s,hasMobileMenu:n,widgetColor:l,widgetContrast:c,contrast:d,isActiveAbtest:i,isAbtest:o}})).filter((e=>e.hasMobileMenu&&(!e.isAbtest||e.isActiveAbtest))),this.mobileHeadersMap.length){var s;const e=null!=(s=this.mobileHeadersMap.find((e=>e.isFixed)))?s:this.mobileHeadersMap[0];"contrast"===e.widgetColor?(this.contrast=e.contrast,this.background="dark"===this.contrast?"#ffffff":"#1b1b1c"):(this.background=e.widgetColor,this.contrast=e.widgetContrast)}if(this.$headers=$(this.mobileHeadersMap.map((e=>e.$header[0]))),this.$nav=this.$area.find(o),this.$navbar=this.$area.find(d),this.$navmenu=this.$area.find(b),this.shouldBeFixed=!flexbe_cli.is_admin&&this.mobileHeadersMap.some((e=>e.isFixed)),this.fillNavMenu(),this.fillNavbar(),this.$navbar.css("background-color",""),this.$navmenu.css("background-color",""),this.navbarStyle){if(this.background&&(this.$navbar.css("background",this.background),this.$navmenu.css("background",this.background),i=this.background,!/^\s*(?:linear-gradient|repeat-linear-gradient)\(.*\)/i.test(i))){const e=$("head"),t=e.find('meta[name="theme-color"]');t.length?t.attr("content",this.background):e.append(`<meta name="theme-color" content="${this.background}"/>`)}this.contrast?this.$nav.attr("data-contrast",this.contrast):this.color&&this.$nav.css("color",this.color),this.shouldBeFixed=this.shouldBeFixed||"round"===this.navbarStyle,this.$nav.toggleClass("menu-fixed",this.shouldBeFixed),this.$nav.toggleClass("menu-static",!this.shouldBeFixed),this.animationMobileShow()}else $("body").removeClass("is-mobile-menu--round is-mobile-menu--panel");var i;this.navmenuCreated&&(flexbe_cli.entity.initArea(this.$nav),flexbe_cli.events.off("ui_mobilemenu_open").on("ui_mobilemenu_open",(()=>{this.openMenu()})),flexbe_cli.events.off("ui_mobilemenu_close").on("ui_mobilemenu_close",(()=>{this.$nav.length&&[!0,"true"].includes(this.$nav.attr("data-opened"))&&this.closeMenu()})));const l=flexbe_cli.components.getGlobalInstance("lazyLoading");l&&(l.forceLoadInlineInArea(this.$area[0]),l.forceLoadLazyInArea(this.$area[0]))},animationMobileShow(){const e=$("body");this.$nav.removeClass("header-style-round header-style-panel"),this.$nav.addClass(`${t} header-style-${this.navbarStyle}`),this.$headers.each(((e,t)=>{$(t).find(".element-item").toArray().every((e=>!e.offsetHeight))&&m($(t).closest(".header-area, .b_block"),!1);$(t).find(".elements-list").each(((e,t)=>{$(t).find(".element-item").toArray().every((e=>!e.offsetHeight))&&m($(t).closest(".elements-list"),!1)}))})),e.removeClass("is-mobile-menu--round is-mobile-menu--panel"),e.addClass(`is-mobile-menu--${this.navbarStyle}`)},fillNavbar(){const e=this,{created:t,$navbar:n,$headers:i,navmenuCreated:o}=e,r=n.find(h),d=n.find(u);r.empty(),d.empty();const b=[],g=[];!function(){const s=$(l).eq(0),n=$(c).eq(0);if(n.length||s.length){t.cart=!0,g.push("cart");const i=s.find(".cart-button-icon"),o=s.find(".cart-button-count"),r=n.find(".header-cart-button-icon"),l=n.find(".header-cart-button-count");let c,h,u;c=r.length?r.html():i.html(),l.length?(h=l.css("color"),u=l.css("background-color"),"rgba(0, 0, 0, 0)"===u&&(h="rgb(255, 255, 255, 1)",u="rgb(234, 127, 84, 1)")):(h=o.css("color"),u=o.css("background-color"));const b=`\n                        <li class="${a}">\n                            <div class="cart-button">\n                                <svg class="cart-button-icon">\n                                    ${c}\n                                </svg>\n                                <div class="cart-button-count" style="color: ${h}; background: ${u}">0</div>\n                            </div>\n                        </li>`;e.$cart=$(b),d.append(e.$cart),n.length||e.background||(e.color=s.css("color"),e.background=s.css("background-color"))}else t.cart=!1;if(t.cart){const t=e.$area.find(".cart-button"),a=t.find(".cart-button-count"),s=flexbe_cli.ecommerce.cartStore.getCount();d.toggleClass("cart-empty",!s),e.$cart.on(e.clickEvent,(()=>{e.toggleMenu(!1),flexbe_cli.events.emit("ui_cart_open")})),setTimeout((()=>{flexbe_cli.ecommerce.cartStore.on("dispatch.mobilemenu",((e,{name:s})=>{const n=flexbe_cli.ecommerce.cartStore.getCount();d.toggleClass("cart-empty",!n),"addItem"===s&&(t.addClass("blink"),setTimeout((()=>{t.removeClass("blink")}),300))}))}))}t.cart}(),function(){o?(e.$burger=$(`<li class="${s}"><i></i><i></i><i></i></li>`),d.append(e.$burger),g.push("burger"),e.$burger.on(e.clickEvent,(()=>{e.toggleMenu()})),t.burger=!0):t.burger=!1;t.burger}(),this.$nav.attr("data-enabled",!!g.length),g.length&&function(){const e=i.find(".component-logo").eq(0);if(e.length){const a=40/Math.max(.25,e.innerHeight()/e.innerWidth()),s=e.clone();t.logo=!0,s.css({fontSize:"",maxWidth:`${a}px`}),r.append(s),b.push("logo"),m(e,!1)}else t.logo=!1;t.logo}(),b.length&&g.length||g.length>1?this.navbarStyle="panel":0===b.length&&1===g.length?(this.navbarStyle="round",this.shouldBeFixed=!0):this.navbarStyle=!1},fillNavMenu(){const{created:e,$navmenu:t,$headers:a}=this;return["header_menu","header_text","header_contacts","header_social","header_button","header_html","header_cart","header_spacer"].forEach((s=>{const n=t.find(`[data-element=${s}]`),i=0,o=i.length,r=n.hasClass("nav-menu-item--cart"),l=n.hasClass("nav-menu-item--spacer");if(n.empty(),o){if(!r&&!l){const e=i.clone();e.find('[class^="editor-"]').remove(),e.attr("data-cloned",!0),n.append(e),n.find("[data-direction]").attr("data-direction","column"),n.find("[data-direction-adaptive]").attr("data-direction-adaptive","column"),n.find(".element-content").removeClass("justify-content-center justify-content-end").addClass("justify-content-start")}m(i,!1),e[s]=e[s]?e[s]+o:o}})),this.navmenuCreated=Object.keys(e).length,this.navmenuCreated},toggleMenu(e){this[(e=void 0===e?!(e=[!0,"true"].includes(this.$nav.attr("data-opened"))):!!e)?"openMenu":"closeMenu"]()},openMenu(){this.isOpen=!0,this.$area.addClass("show"),this.$nav.outerHeight(),this.$nav.attr("data-opened",!0),this.$navmenu.addClass("active"),this.$burger&&this.$burger.addClass("active"),flexbe_cli.is_admin||flexbe_cli.scroll.scrollLock.lock(),this.setAreaSize(),this._onOpen(),$(window).on("resized.mobilemenu",(()=>{this.setAreaSize()})),"mobile"===flexbe_cli.resize.responsiveMode&&($("body").addClass("is-widget-open").css("background",this.background),this.shouldBeFixed||$("body, html").scrollTop(0))},closeMenu(){this.isOpen=!1,"mobile"===flexbe_cli.resize.responsiveMode&&($("body").removeClass("is-widget-open").css("background",""),Array.from(this.$navmenu.find(".folder-item")).forEach((e=>{$(e).removeClass("show"),$(e.lastElementChild).slideUp(0)}))),this.$area.removeClass("show"),this.$area.css("height",""),this.$nav.attr("data-opened",!1),this.$navmenu.removeClass("active"),this.$burger&&this.$burger.removeClass("active"),flexbe_cli.is_admin||flexbe_cli.scroll.scrollLock.unlock(),$(window).off("resized.mobilemenu"),this._onClose()},setAreaSize(){const e=this.isOpen?`${flexbe_cli.resize.viewportHeight}px`:"";this.$area.css("height",e)}})}();

!function(){class t{constructor(t){if(this.interacted=!1,this.inited=!1,this.activeUid=void 0,this.$activeTab=void 0,this.$activeSection=void 0,this.opts=t,this.$area=t.$area,this.dataAttr=t.dataAttr,this.classContainer=t.classContainer,this.initTabs(),t.activeUid)this.selectTab(t.activeUid);else if(window.location.hash){const t=window.location.hash.replace("#",""),i=$(`._anchor[name="${t}" i]`),s=i.length?i.closest("[data-id]"):$(`[data-id="${t}" i]`),e=i[0]||s[0];e&&this.selectTabFromTarget(e)}this.$area.on("bringIntoView",(t=>this.selectTabFromTarget(t.target)))}initTabs(){if(this.$mainContainer="self"===this.classContainer?this.$area:this.$area.find(this.classContainer),this.$tabsContainer=this.$area.find(".container-tabs"),this.$tabsList=this.$area.find('[role="tablist"]'),this.$swiperHelper=this.$area.find(".tab-swiper-helper"),this.inited=!!this.$tabsList.length,this.inited&&(this.$tabs=this.$tabsList.find('[role="tab"]'),this.$sections=this.$mainContainer.find('[role="tabpanel"]'),this.normalizeLines(),setTimeout((()=>{this.$mainContainer.addClass("main-area--tabs-inited")}),50),this.$tabsContainer.on("click",".tab",(t=>{const i=$(t.currentTarget).closest(`[${this.dataAttr}]`).attr(`${this.dataAttr}`);i&&(this.selectTab(i),this.setHash())})),this.$tabsList.on("touchstart",(()=>{this.interacted=!0,this.destroySwipeAnimation()})),flexbe_cli.is_admin)){let t;this.$tabsContainer.on("mouseenter",".tab",(i=>{clearTimeout(t),1===i.buttons&&(t=setTimeout((()=>{const t=$(i.target).closest(`[${this.dataAttr}]`).attr(`${this.dataAttr}`);this.selectTab(t),this.setHash()}),700))})),this.$tabsContainer.on("mouseleave",".tab",(()=>{clearTimeout(t)}))}}isTabsOnScreen(){if(!this.inited)return!1;const{top:t,height:i}=this.$tabsList[0].getBoundingClientRect();return t>0&&t+i<flexbe_cli.resize.viewportHeight}swipeAnimationController(){if(!this.inited)return;const t=this.$tabsList[0]&&this.$tabsList[0].scrollWidth>this.$tabsList[0].clientWidth,i=this.isTabsOnScreen();t&&i?this.initSwiperAnimation():i||this.destroySwipeAnimation()}initSwiperAnimation(){this.$swiperHelper.hasClass("show")||this.interacted||this.$swiperHelper.addClass("show")}destroySwipeAnimation(){this.$swiperHelper.hasClass("show")&&this.$swiperHelper.removeClass("show")}selectTabFromTarget(t){const i=$(t).closest(`[${this.dataAttr}]`).attr(`${this.dataAttr}`);this.selectTab(i)}selectTab(t,{force:i}={}){var s,e;if(!t||!i&&this.activeUid===t)return;this.inited||this.initTabs();const a=null!=(s=null==(e=this.$tabs)?void 0:e.filter(`[${this.dataAttr}="${t}"]`))?s:[];if(!a.length)return;const n=this.$sections.filter(".active"),r=n[0]&&n[0].offsetTop,o=this.$sections.filter(`[${this.dataAttr}="${t}"]`);this.scrollToTab(a),this.$tabs.removeClass("active").attr("aria-selected",!1).attr("tabindex",-1),a.addClass("active").attr("aria-selected",!0).attr("tabindex",0),this.$sections.removeClass("active").prop("hidden",!0),o.addClass("active").prop("hidden",!1);const l=o[0]&&o[0].offsetTop;if(this.activeUid=t,this.$activeTab=a,this.$activeSection=o,"function"==typeof this.opts.onSelectTab&&this.opts.onSelectTab({uid:t,$tab:a}),!flexbe_cli.run.is_mobile&&null!=r&&null!=l&&Math.abs(r-l)>0&&"undefined"!=typeof anime){const t=this.$mainContainer,i=r-l;t.css("will-change","transform"),anime({targets:t[0],translateY:[i,0],duration:250,easing:"easeOutCubic",complete:()=>{t.css({transform:"","will-change":""})}})}}normalizeLines(){if(!this.inited)return;let t;const i=this.$tabs;this.$tabsList.find(".tab-spacer").remove(),i.removeClass("first-in-line last-in-line"),i.first().addClass("first-in-line"),i.last().addClass("last-in-line"),i.each(((i,s)=>{t&&t.offsetTop!==s.offsetTop&&($(s).addClass("first-in-line"),$(t).addClass("last-in-line"),$(t).after('<span class="tab-spacer"></span>')),t=s}))}scrollToTab(t){if(!this.inited)return;const i=this.$tabsList,s=i[0].scrollWidth;if(s>i[0].offsetWidth){const e=t[0].offsetLeft,a=t[0].getBoundingClientRect(),n=flexbe_cli.resize.viewportWidth;let r;a.width>n||a.left<20?r=e-20:a.right>n-20&&(r=e-(n-20-a.width)),null!=r&&(r=Math.max(0,Math.min(s-n,r)),i.animate({scrollLeft:r},{duration:250}))}}setHash(){const t=this.$activeSection.find("._anchor").eq(0).attr("name");this.currentAnchor=t,t&&i(t)}resetHash(){if(!this.inited)return;String(window.location.hash).replace(/^#{1,2}/,"")===this.currentAnchor&&i("")}}function i(t){flexbe_cli.is_admin||(flexbe_cli.lockPopstate=!0,window.history.replaceState(null,null,`#${t}`),flexbe_cli.lockPopstate=!1)}flexbe_cli.entity.setClientJs("block","BUNDLE",{components:["background"],tabsController:void 0,shouldInitTabs:!0,onUpdate({templateRendered:t}){t&&(this.shouldInitTabs=!0)},onResize(){this.tabsController&&this.tabsController.normalizeLines()},onBeside(t){t&&this.shouldInitTabs&&this.createTabs()},onFocus(t){this.tabsController&&(t?this.tabsController.swipeAnimationController():this.tabsController.resetHash())},createTabs(){this.shouldInitTabs=!1,this.$area.find(".layout-type-tabs").length?this.tabsController=new t({$area:this.$area,dataAttr:"data-item-uid",classContainer:".main-area",activeUid:this.selectedTabUid,onSelectTab:({uid:t})=>{this.selectedTabUid=t,this.updateTween()}}):this.tabsController=null}})}();

flexbe_cli.entity.setClientJs("block","FOOTER",{components:["background"]});

flexbe_cli.entity.setClientJs("block","HEADER",{components:["background"]});

flexbe_cli.entity.setClientJs("block","PRODUCTS",{components:["background"]});

flexbe_cli.entity.setClientJs("element","button01",{components:["icon"]});

flexbe_cli.entity.setClientJs("element","header_contacts",{components:["icon"],onInit(){this.initNodes(),this.fixDesc()},onUpdate(){this.initNodes(),this.fixDesc()},onMsg(t){"change_contact"===t&&this.fixDesc()},initNodes(){this.$desc=this.$area.find(".element-text--desc"),this.$icon=this.$area.find(".component-icon"),this.$contact=this.$area.find(".element-text--contact")},fixDesc(){if(this.$desc.length&&this.$icon.length){const t=this.$contact[0].offsetHeight,i=this.$icon[0].offsetHeight;if(t>i){const e=t/2-i/2;this.$icon.css("margin-top",`${e}px`)}else this.$icon.css("margin-top","")}}});

flexbe_cli.entity.setClientJs("element","header_menu",{components:["menu"]});
